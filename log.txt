2024-07-06T00:13:02.230+03:00  WARN 81648 --- [jwt-token-server] [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/bohda/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/bohda/.m2/repository/org/json/json/20180813/json-20180813.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2024-07-06T00:13:02.250+03:00  INFO 81648 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Starting ApplicationTests using Java 22.0.1 with PID 81648 (started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T00:13:02.251+03:00  INFO 81648 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2024-07-06T00:13:02.832+03:00  INFO 81648 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T00:13:02.896+03:00  INFO 81648 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 9 JPA repository interfaces.
2024-07-06T00:13:03.405+03:00  INFO 81648 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T00:13:03.472+03:00  INFO 81648 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T00:13:03.509+03:00  INFO 81648 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T00:13:03.784+03:00  INFO 81648 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T00:13:03.817+03:00  INFO 81648 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T00:13:05.430+03:00  INFO 81648 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b8cf049
2024-07-06T00:13:05.433+03:00  INFO 81648 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T00:13:05.754+03:00  WARN 81648 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T00:13:06.463+03:00  INFO 81648 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T00:13:12.320+03:00  INFO 81648 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T00:13:12.586+03:00  INFO 81648 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T00:13:13.229+03:00  WARN 81648 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T00:13:13.256+03:00  INFO 81648 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T00:13:13.575+03:00  INFO 81648 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bdc984, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f299fc3, org.springframework.security.web.context.SecurityContextHolderFilter@59a79420, org.springframework.security.web.header.HeaderWriterFilter@18f6ccf4, org.springframework.web.filter.CorsFilter@b997735, org.springframework.security.web.authentication.logout.LogoutFilter@6f05d5f2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58d9cd6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@655e3f4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2de57397, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@605790e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@178826db, org.springframework.security.web.session.SessionManagementFilter@24f6f6bf, org.springframework.security.web.access.ExceptionTranslationFilter@3c964873, org.springframework.security.web.access.intercept.AuthorizationFilter@ffd26d1]
2024-07-06T00:13:14.374+03:00  INFO 81648 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Started ApplicationTests in 12.402 seconds (process running for 13.063)
2024-07-06T00:13:14.679+03:00  INFO 81648 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T00:13:14.683+03:00  INFO 81648 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T00:13:15.972+03:00  INFO 81648 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T00:17:03.524+03:00  WARN 67472 --- [jwt-token-server] [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/bohda/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/bohda/.m2/repository/org/json/json/20180813/json-20180813.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2024-07-06T00:17:03.534+03:00  INFO 67472 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Starting ApplicationTests using Java 22.0.1 with PID 67472 (started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T00:17:03.534+03:00  INFO 67472 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2024-07-06T00:17:04.021+03:00  INFO 67472 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T00:17:04.073+03:00  INFO 67472 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 9 JPA repository interfaces.
2024-07-06T00:17:04.455+03:00  INFO 67472 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T00:17:04.503+03:00  INFO 67472 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T00:17:04.531+03:00  INFO 67472 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T00:17:04.755+03:00  INFO 67472 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T00:17:04.776+03:00  INFO 67472 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T00:17:06.386+03:00  INFO 67472 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1fc3df43
2024-07-06T00:17:06.389+03:00  INFO 67472 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T00:17:06.689+03:00  WARN 67472 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T00:17:07.352+03:00  INFO 67472 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T00:17:13.036+03:00  INFO 67472 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T00:17:13.290+03:00  INFO 67472 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T00:17:13.876+03:00  WARN 67472 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T00:17:13.898+03:00  INFO 67472 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T00:17:14.190+03:00  INFO 67472 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@223c42b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6acedf54, org.springframework.security.web.context.SecurityContextHolderFilter@49442e03, org.springframework.security.web.header.HeaderWriterFilter@55b56db3, org.springframework.web.filter.CorsFilter@2a0cc666, org.springframework.security.web.authentication.logout.LogoutFilter@45ec6bb3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@14484887, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6ff5eeed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@730c4dfd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36a65069, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77f43f3e, org.springframework.security.web.session.SessionManagementFilter@64bed8b2, org.springframework.security.web.access.ExceptionTranslationFilter@8ff4795, org.springframework.security.web.access.intercept.AuthorizationFilter@59e02113]
2024-07-06T00:17:14.946+03:00  INFO 67472 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Started ApplicationTests in 11.651 seconds (process running for 12.252)
2024-07-06T00:17:15.316+03:00  INFO 67472 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T00:17:15.319+03:00  INFO 67472 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T00:17:16.490+03:00  INFO 67472 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T00:41:24.217+03:00  WARN 82592 --- [jwt-token-server] [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/bohda/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/bohda/.m2/repository/org/json/json/20180813/json-20180813.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2024-07-06T00:41:24.229+03:00  INFO 82592 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Starting ApplicationTests using Java 22.0.1 with PID 82592 (started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T00:41:24.230+03:00  INFO 82592 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2024-07-06T00:41:24.827+03:00  INFO 82592 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T00:41:24.898+03:00  INFO 82592 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 9 JPA repository interfaces.
2024-07-06T00:41:25.383+03:00  INFO 82592 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T00:41:25.436+03:00  INFO 82592 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T00:41:25.473+03:00  INFO 82592 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T00:41:25.826+03:00  INFO 82592 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T00:41:25.869+03:00  INFO 82592 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T00:41:27.468+03:00  INFO 82592 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3de45b6c
2024-07-06T00:41:27.471+03:00  INFO 82592 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T00:41:27.779+03:00  WARN 82592 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T00:41:28.485+03:00  INFO 82592 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T00:41:34.342+03:00  INFO 82592 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T00:41:34.617+03:00  INFO 82592 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T00:41:35.267+03:00  WARN 82592 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T00:41:35.290+03:00  INFO 82592 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T00:41:35.625+03:00  INFO 82592 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d26b390, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ff5eeed, org.springframework.security.web.context.SecurityContextHolderFilter@64bed8b2, org.springframework.security.web.header.HeaderWriterFilter@4ba056ab, org.springframework.web.filter.CorsFilter@76b49d0, org.springframework.security.web.authentication.logout.LogoutFilter@28b995b8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@605790e5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7952348f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@793f2b41, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2026af0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@223c42b0, org.springframework.security.web.session.SessionManagementFilter@75c2a35, org.springframework.security.web.access.ExceptionTranslationFilter@58e9375b, org.springframework.security.web.access.intercept.AuthorizationFilter@420849f6]
2024-07-06T00:41:36.431+03:00  INFO 82592 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Started ApplicationTests in 12.477 seconds (process running for 13.194)
2024-07-06T00:41:36.780+03:00  INFO 82592 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T00:41:36.782+03:00  INFO 82592 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T00:41:38.120+03:00  INFO 82592 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T01:53:29.396+03:00  INFO 28984 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 28984 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T01:53:29.398+03:00  INFO 28984 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T01:53:30.579+03:00  INFO 28984 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T01:53:30.648+03:00  INFO 28984 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 9 JPA repository interfaces.
2024-07-06T01:53:31.088+03:00  INFO 28984 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T01:53:31.096+03:00  INFO 28984 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T01:53:31.096+03:00  INFO 28984 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T01:53:31.144+03:00  INFO 28984 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T01:53:31.145+03:00  INFO 28984 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1712 ms
2024-07-06T01:53:31.261+03:00  INFO 28984 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T01:53:31.315+03:00  INFO 28984 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T01:53:31.350+03:00  INFO 28984 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T01:53:31.574+03:00  INFO 28984 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T01:53:31.592+03:00  INFO 28984 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T01:53:33.078+03:00  INFO 28984 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77020328
2024-07-06T01:53:33.081+03:00  INFO 28984 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T01:53:33.403+03:00  WARN 28984 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T01:53:34.181+03:00  INFO 28984 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T01:53:45.506+03:00  INFO 28984 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T01:53:45.714+03:00  INFO 28984 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T01:53:46.313+03:00  WARN 28984 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T01:53:46.330+03:00  INFO 28984 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T01:53:46.576+03:00  INFO 28984 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48ac4201, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f2bec99, org.springframework.security.web.context.SecurityContextHolderFilter@757501da, org.springframework.security.web.header.HeaderWriterFilter@22726bc7, org.springframework.web.filter.CorsFilter@5f324d9f, org.springframework.security.web.authentication.logout.LogoutFilter@5d71813b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@35daccb8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d81b90a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e1d6ace, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bb6bc81, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b7b5e7, org.springframework.security.web.session.SessionManagementFilter@81ac569, org.springframework.security.web.access.ExceptionTranslationFilter@23f4aaeb, org.springframework.security.web.access.intercept.AuthorizationFilter@7cd50c3d]
2024-07-06T01:53:46.804+03:00  INFO 28984 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T01:53:47.363+03:00  INFO 28984 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 18.259 seconds (process running for 18.768)
2024-07-06T01:54:10.881+03:00  INFO 28984 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T01:54:10.882+03:00  INFO 28984 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T02:03:52.356+03:00  WARN 81964 --- [jwt-token-server] [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/bohda/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/bohda/.m2/repository/org/json/json/20180813/json-20180813.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2024-07-06T02:03:52.366+03:00  INFO 81964 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Starting ApplicationTests using Java 22.0.1 with PID 81964 (started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T02:03:52.367+03:00  INFO 81964 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2024-07-06T02:03:53.068+03:00  INFO 81964 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T02:03:53.164+03:00  INFO 81964 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 9 JPA repository interfaces.
2024-07-06T02:03:53.836+03:00  INFO 81964 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T02:03:53.884+03:00  INFO 81964 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T02:03:53.908+03:00  INFO 81964 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T02:03:54.279+03:00  INFO 81964 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T02:03:54.309+03:00  INFO 81964 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T02:03:55.861+03:00  INFO 81964 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ab9d160
2024-07-06T02:03:55.865+03:00  INFO 81964 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T02:03:56.157+03:00  WARN 81964 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T02:03:56.990+03:00  INFO 81964 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T02:04:02.150+03:00  INFO 81964 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T02:04:02.486+03:00  INFO 81964 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T02:04:03.317+03:00  WARN 81964 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T02:04:03.350+03:00  INFO 81964 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T02:04:03.718+03:00  INFO 81964 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bac199f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a47fb5d, org.springframework.security.web.context.SecurityContextHolderFilter@5b8e2ea7, org.springframework.security.web.header.HeaderWriterFilter@64bed8b2, org.springframework.web.filter.CorsFilter@47a9bcf1, org.springframework.security.web.authentication.logout.LogoutFilter@59e02113, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4f3d49e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3acae925, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fb87b73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dd3d0a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17c95612, org.springframework.security.web.session.SessionManagementFilter@71e839ee, org.springframework.security.web.access.ExceptionTranslationFilter@3d1254b9, org.springframework.security.web.access.intercept.AuthorizationFilter@c7ec499]
2024-07-06T02:04:04.547+03:00  INFO 81964 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Started ApplicationTests in 12.569 seconds (process running for 13.478)
2024-07-06T02:04:05.089+03:00  INFO 81964 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T02:04:05.094+03:00  INFO 81964 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T02:04:06.222+03:00  INFO 81964 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T02:58:18.600+03:00  INFO 84720 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 84720 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T02:58:18.601+03:00  INFO 84720 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T02:58:19.630+03:00  INFO 84720 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T02:58:19.680+03:00  INFO 84720 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 9 JPA repository interfaces.
2024-07-06T02:58:20.022+03:00  INFO 84720 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T02:58:20.029+03:00  INFO 84720 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T02:58:20.029+03:00  INFO 84720 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T02:58:20.069+03:00  INFO 84720 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T02:58:20.070+03:00  INFO 84720 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1443 ms
2024-07-06T02:58:20.175+03:00  INFO 84720 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T02:58:20.222+03:00  INFO 84720 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T02:58:20.253+03:00  INFO 84720 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T02:58:20.458+03:00  INFO 84720 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T02:58:20.477+03:00  INFO 84720 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T02:58:21.896+03:00  INFO 84720 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@72f35a31
2024-07-06T02:58:21.897+03:00  INFO 84720 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T02:58:22.173+03:00  WARN 84720 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T02:58:22.838+03:00  INFO 84720 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T02:58:27.868+03:00  INFO 84720 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T02:58:28.029+03:00  INFO 84720 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T02:58:28.538+03:00  WARN 84720 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T02:58:28.555+03:00  INFO 84720 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T02:58:28.787+03:00  INFO 84720 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2aa143ba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7abe3d53, org.springframework.security.web.context.SecurityContextHolderFilter@7f3aa737, org.springframework.security.web.header.HeaderWriterFilter@7b9661d4, org.springframework.web.filter.CorsFilter@372dc92e, org.springframework.security.web.authentication.logout.LogoutFilter@331886ac, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e2bd635, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5f324d9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34bcdc9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@784dd9da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a885aa1, org.springframework.security.web.session.SessionManagementFilter@2b1aa390, org.springframework.security.web.access.ExceptionTranslationFilter@2fef413c, org.springframework.security.web.access.intercept.AuthorizationFilter@24c04958]
2024-07-06T02:58:28.996+03:00  INFO 84720 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T02:58:29.453+03:00  INFO 84720 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 11.133 seconds (process running for 11.959)
2024-07-06T03:00:54.295+03:00  INFO 84720 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T03:00:54.296+03:00  INFO 84720 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T03:00:54.297+03:00  INFO 84720 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T03:01:54.719+03:00  INFO 84720 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T03:01:54.720+03:00  INFO 84720 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T03:01:55.786+03:00  INFO 84720 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T03:01:57.529+03:00  INFO 62984 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 62984 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T03:01:57.530+03:00  INFO 62984 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T03:01:57.931+03:00  INFO 62984 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T03:01:57.982+03:00  INFO 62984 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T03:01:58.315+03:00  INFO 62984 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T03:01:58.322+03:00  INFO 62984 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T03:01:58.322+03:00  INFO 62984 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T03:01:58.359+03:00  INFO 62984 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T03:01:58.359+03:00  INFO 62984 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 806 ms
2024-07-06T03:01:58.456+03:00  INFO 62984 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T03:01:58.487+03:00  INFO 62984 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T03:01:58.506+03:00  INFO 62984 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T03:01:58.687+03:00  INFO 62984 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T03:01:58.703+03:00  INFO 62984 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T03:02:00.062+03:00  INFO 62984 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T03:02:00.065+03:00  INFO 62984 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T03:02:00.341+03:00  WARN 62984 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T03:02:00.978+03:00  INFO 62984 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T03:02:06.068+03:00  INFO 62984 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T03:02:06.225+03:00  INFO 62984 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T03:02:06.680+03:00  WARN 62984 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T03:02:06.694+03:00  INFO 62984 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T03:02:06.885+03:00  INFO 62984 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c7e2c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39bbe17c, org.springframework.security.web.context.SecurityContextHolderFilter@423ddfe1, org.springframework.security.web.header.HeaderWriterFilter@5efb7f82, org.springframework.web.filter.CorsFilter@3760f3e8, org.springframework.security.web.authentication.logout.LogoutFilter@43347199, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6fb87b73, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3c964873, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@124ba047, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7625bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73032867, org.springframework.security.web.session.SessionManagementFilter@112d94d, org.springframework.security.web.access.ExceptionTranslationFilter@70c741be, org.springframework.security.web.access.intercept.AuthorizationFilter@49442e03]
2024-07-06T03:02:07.078+03:00  INFO 62984 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T03:02:07.430+03:00  INFO 62984 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 10.126 seconds (process running for 10.586)
2024-07-06T03:03:51.167+03:00  INFO 62984 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T03:03:51.167+03:00  INFO 62984 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T03:03:51.168+03:00  INFO 62984 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T03:04:55.765+03:00  WARN 62984 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s560ms677µs).
2024-07-06T03:05:35.231+03:00  INFO 62984 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : User with linked bonus: dev.guarmo.whales.model.user.UserCredentials@73e2c20d
2024-07-06T03:08:00.738+03:00  WARN 62984 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m58s432ms876µs500ns).
2024-07-06T03:08:42.631+03:00  INFO 62984 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : User with linked bonus: dev.guarmo.whales.model.user.UserCredentials@58b8895e
2024-07-06T03:13:21.187+03:00  INFO 62984 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T03:13:21.189+03:00  INFO 62984 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T03:13:36.819+03:00  INFO 82284 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 82284 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T03:13:36.820+03:00  INFO 82284 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T03:13:37.208+03:00  INFO 82284 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T03:13:37.251+03:00  INFO 82284 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 9 JPA repository interfaces.
2024-07-06T03:13:37.589+03:00  INFO 82284 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T03:13:37.597+03:00  INFO 82284 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T03:13:37.597+03:00  INFO 82284 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T03:13:37.642+03:00  INFO 82284 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T03:13:37.643+03:00  INFO 82284 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 800 ms
2024-07-06T03:13:37.746+03:00  INFO 82284 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T03:13:37.771+03:00  INFO 82284 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T03:13:37.789+03:00  INFO 82284 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T03:13:37.953+03:00  INFO 82284 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T03:13:37.967+03:00  INFO 82284 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T03:13:39.210+03:00  INFO 82284 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e6e5da4
2024-07-06T03:13:39.212+03:00  INFO 82284 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T03:13:39.456+03:00  WARN 82284 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T03:13:40.033+03:00  INFO 82284 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T03:13:51.003+03:00  INFO 82284 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T03:13:51.190+03:00  INFO 82284 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T03:13:51.616+03:00  WARN 82284 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T03:13:51.632+03:00  INFO 82284 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T03:13:51.991+03:00  INFO 82284 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7abe3d53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@372dc92e, org.springframework.security.web.context.SecurityContextHolderFilter@1428d63, org.springframework.security.web.header.HeaderWriterFilter@20de9df, org.springframework.web.filter.CorsFilter@a885aa1, org.springframework.security.web.authentication.logout.LogoutFilter@66373f77, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3c79be0f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@b7b5e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76296c86, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6be93728, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a9464d9, org.springframework.security.web.session.SessionManagementFilter@5e1d6ace, org.springframework.security.web.access.ExceptionTranslationFilter@4a0b1701, org.springframework.security.web.access.intercept.AuthorizationFilter@649a76c1]
2024-07-06T03:13:52.190+03:00  INFO 82284 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T03:13:52.563+03:00  INFO 82284 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 15.951 seconds (process running for 16.382)
2024-07-06T03:21:17.161+03:00  INFO 82284 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T03:21:17.162+03:00  INFO 82284 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T03:21:17.164+03:00  INFO 82284 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-06T03:22:09.089+03:00  INFO 82284 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T03:22:09.090+03:00  INFO 82284 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T03:22:10.989+03:00  INFO 82428 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 82428 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T03:22:10.991+03:00  INFO 82428 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T03:22:11.386+03:00  INFO 82428 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T03:22:11.435+03:00  INFO 82428 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T03:22:11.782+03:00  INFO 82428 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T03:22:11.789+03:00  INFO 82428 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T03:22:11.789+03:00  INFO 82428 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T03:22:11.826+03:00  INFO 82428 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T03:22:11.826+03:00  INFO 82428 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 810 ms
2024-07-06T03:22:11.920+03:00  INFO 82428 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T03:22:11.948+03:00  INFO 82428 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T03:22:11.967+03:00  INFO 82428 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T03:22:12.144+03:00  INFO 82428 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T03:22:12.159+03:00  INFO 82428 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T03:22:13.422+03:00  INFO 82428 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T03:22:13.424+03:00  INFO 82428 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T03:22:13.679+03:00  WARN 82428 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T03:22:14.326+03:00  INFO 82428 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T03:22:20.095+03:00  INFO 82428 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T03:22:20.246+03:00  INFO 82428 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T03:22:20.676+03:00  WARN 82428 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T03:22:20.689+03:00  INFO 82428 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T03:22:20.877+03:00  INFO 82428 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c7e2c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39bbe17c, org.springframework.security.web.context.SecurityContextHolderFilter@423ddfe1, org.springframework.security.web.header.HeaderWriterFilter@5efb7f82, org.springframework.web.filter.CorsFilter@3760f3e8, org.springframework.security.web.authentication.logout.LogoutFilter@43347199, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6fb87b73, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3c964873, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@124ba047, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7625bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73032867, org.springframework.security.web.session.SessionManagementFilter@112d94d, org.springframework.security.web.access.ExceptionTranslationFilter@70c741be, org.springframework.security.web.access.intercept.AuthorizationFilter@49442e03]
2024-07-06T03:22:21.067+03:00  INFO 82428 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T03:22:21.466+03:00  INFO 82428 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 10.696 seconds (process running for 11.049)
2024-07-06T03:24:21.501+03:00  INFO 82428 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T03:24:21.502+03:00  INFO 82428 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T03:24:21.503+03:00  INFO 82428 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T03:27:12.649+03:00  WARN 82428 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m59s85ms294µs500ns).
2024-07-06T10:48:07.206+03:00  WARN 82428 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7h20m54s556ms962µs100ns).
2024-07-06T10:48:07.261+03:00  WARN 82428 --- [jwt-token-server] [http-nio-6028-exec-1] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5 marked as broken because of SQLSTATE(08S01), ErrorCode(0)

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 26 439 942 milliseconds ago. The last packet sent successfully to the server was 26 440 051 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2022) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:402) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:282) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:617) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy138.save(Unknown Source) ~[na:na]
	at dev.guarmo.whales.helper.InvestModelHelper.tableReceivedMainBonus(InvestModelHelper.java:79) ~[classes/:na]
	at dev.guarmo.whales.service.IncomeService.createAndLinkAndSaveMainBonusToUser(IncomeService.java:90) ~[classes/:na]
	at dev.guarmo.whales.service.ReferralBonusService.linkMainBonusToRandomReferral(ReferralBonusService.java:38) ~[classes/:na]
	at dev.guarmo.whales.service.PurchaseService.linkAndSavePurchaseToUserAndBonusesToReferrals(PurchaseService.java:35) ~[classes/:na]
	at dev.guarmo.whales.service.InvestModelService.buyInvestModel(InvestModelService.java:68) ~[classes/:na]
	at dev.guarmo.whales.controller.InvestEntityController.buyTable(InvestEntityController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 26 439 942 milliseconds ago. The last packet sent successfully to the server was 26 440 051 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.send(NativeProtocol.java:629) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:684) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:658) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2005) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 129 common frames omitted
Caused by: java.net.SocketException: Connection reset by peer
	at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:425) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:445) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:831) ~[na:na]
	at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketOutputRecord.deliver(SSLSocketOutputRecord.java:345) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1308) ~[na:na]
	at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81) ~[na:na]
	at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142) ~[na:na]
	at com.mysql.cj.protocol.a.SimplePacketSender.send(SimplePacketSender.java:57) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketSender.send(TimeTrackingPacketSender.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.send(NativeProtocol.java:620) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 134 common frames omitted

2024-07-06T10:48:07.316+03:00  INFO 82428 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T10:48:07.321+03:00  INFO 82428 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T10:48:07.358+03:00  INFO 82428 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T11:09:50.672+03:00  INFO 69088 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 69088 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T11:09:50.674+03:00  INFO 69088 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T11:09:51.692+03:00  INFO 69088 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T11:09:51.750+03:00  INFO 69088 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 9 JPA repository interfaces.
2024-07-06T11:09:52.147+03:00  INFO 69088 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T11:09:52.155+03:00  INFO 69088 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T11:09:52.155+03:00  INFO 69088 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T11:09:52.196+03:00  INFO 69088 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T11:09:52.197+03:00  INFO 69088 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1489 ms
2024-07-06T11:09:52.318+03:00  INFO 69088 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T11:09:52.369+03:00  INFO 69088 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T11:09:52.398+03:00  INFO 69088 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T11:09:52.627+03:00  INFO 69088 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T11:09:52.648+03:00  INFO 69088 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T11:09:54.368+03:00  INFO 69088 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3eff6846
2024-07-06T11:09:54.370+03:00  INFO 69088 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T11:09:54.589+03:00  WARN 69088 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T11:09:55.430+03:00  INFO 69088 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T11:09:59.941+03:00  WARN 69088 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@3eff6846 marked as broken because of SQLSTATE(08S01), ErrorCode(0)

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:968) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:49) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.addColumns(InformationExtractorJdbcDatabaseMetaDataImpl.java:150) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.extractTableInformation(AbstractInformationExtractorImpl.java:855) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.lambda$locateTableInNamespace$5(AbstractInformationExtractorImpl.java:809) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:70) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.locateTableInNamespace(AbstractInformationExtractorImpl.java:804) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTable(AbstractInformationExtractorImpl.java:355) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTableInformation(DatabaseInformationImpl.java:113) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.locateTableInformation(DatabaseInformationImpl.java:151) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.lambda$getForeignKeys$9(AbstractInformationExtractorImpl.java:1313) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processImportedKeysResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:133) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getForeignKeys(AbstractInformationExtractorImpl.java:1292) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.TableInformationImpl.foreignKeys(TableInformationImpl.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.TableInformationImpl.getForeignKeys(TableInformationImpl.java:91) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.equivalentForeignKeyExistsInDatabase(AbstractSchemaMigrator.java:484) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.checkForExistingForeignKey(AbstractSchemaMigrator.java:476) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:443) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at dev.guarmo.whales.Application.main(Application.java:12) ~[classes/:na]
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:660) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:889) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 53 common frames omitted
Caused by: java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 58 common frames omitted

2024-07-06T11:09:59.949+03:00  WARN 69088 --- [jwt-token-server] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2024-07-06T11:09:59.949+03:00 ERROR 69088 --- [jwt-token-server] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.
2024-07-06T11:09:59.954+03:00 ERROR 69088 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Error accessing column metadata: whales_db.money_withdraw [Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.] [n/a]
2024-07-06T11:09:59.956+03:00  WARN 69088 --- [jwt-token-server] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Error accessing column metadata: whales_db.money_withdraw [Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.] [n/a]
2024-07-06T11:09:59.956+03:00  INFO 69088 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T11:10:00.002+03:00  INFO 69088 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T11:10:00.006+03:00  INFO 69088 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-07-06T11:10:00.025+03:00  INFO 69088 --- [jwt-token-server] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-06T11:10:00.045+03:00 ERROR 69088 --- [jwt-token-server] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Error accessing column metadata: whales_db.money_withdraw [Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at dev.guarmo.whales.Application.main(Application.java:12) ~[classes/:na]
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Error accessing column metadata: whales_db.money_withdraw [Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 15 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Error accessing column metadata: whales_db.money_withdraw [Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.convertSQLException(AbstractInformationExtractorImpl.java:124) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.addColumns(InformationExtractorJdbcDatabaseMetaDataImpl.java:184) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.extractTableInformation(AbstractInformationExtractorImpl.java:855) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.lambda$locateTableInNamespace$5(AbstractInformationExtractorImpl.java:809) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:70) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.locateTableInNamespace(AbstractInformationExtractorImpl.java:804) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTable(AbstractInformationExtractorImpl.java:355) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTableInformation(DatabaseInformationImpl.java:113) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.locateTableInformation(DatabaseInformationImpl.java:151) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.lambda$getForeignKeys$9(AbstractInformationExtractorImpl.java:1313) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processImportedKeysResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:133) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getForeignKeys(AbstractInformationExtractorImpl.java:1292) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.TableInformationImpl.foreignKeys(TableInformationImpl.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.TableInformationImpl.getForeignKeys(TableInformationImpl.java:91) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.equivalentForeignKeyExistsInDatabase(AbstractSchemaMigrator.java:484) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.checkForExistingForeignKey(AbstractSchemaMigrator.java:476) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:443) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.8.jar:6.1.8]
	... 19 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:968) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:49) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.addColumns(InformationExtractorJdbcDatabaseMetaDataImpl.java:150) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 48 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:660) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:889) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 53 common frames omitted
Caused by: java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 58 common frames omitted

2024-07-06T11:12:06.114+03:00  INFO 77352 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 77352 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T11:12:06.115+03:00  INFO 77352 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T11:12:06.514+03:00  INFO 77352 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T11:12:06.564+03:00  INFO 77352 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T11:12:06.915+03:00  INFO 77352 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T11:12:06.921+03:00  INFO 77352 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T11:12:06.921+03:00  INFO 77352 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T11:12:06.958+03:00  INFO 77352 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T11:12:06.958+03:00  INFO 77352 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 819 ms
2024-07-06T11:12:07.054+03:00  INFO 77352 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T11:12:07.085+03:00  INFO 77352 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T11:12:07.106+03:00  INFO 77352 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T11:12:07.294+03:00  INFO 77352 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T11:12:07.310+03:00  INFO 77352 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T11:12:09.559+03:00  INFO 77352 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@acd3460
2024-07-06T11:12:09.562+03:00  INFO 77352 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T11:12:09.903+03:00  WARN 77352 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T11:12:10.523+03:00  INFO 77352 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T11:12:18.899+03:00  INFO 77352 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:12:19.155+03:00  INFO 77352 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T11:12:19.815+03:00  WARN 77352 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T11:12:19.836+03:00  INFO 77352 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T11:12:20.073+03:00  INFO 77352 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14484887, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48c42253, org.springframework.security.web.context.SecurityContextHolderFilter@39da0e47, org.springframework.security.web.header.HeaderWriterFilter@1afea182, org.springframework.web.filter.CorsFilter@32647dde, org.springframework.security.web.authentication.logout.LogoutFilter@dd3d0a6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@24f6f6bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c7ec499, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c697ca0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75c2a35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ace45e9, org.springframework.security.web.session.SessionManagementFilter@3d3a3738, org.springframework.security.web.access.ExceptionTranslationFilter@6195e7d5, org.springframework.security.web.access.intercept.AuthorizationFilter@4e6f3d08]
2024-07-06T11:12:20.287+03:00  INFO 77352 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T11:12:20.877+03:00  INFO 77352 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 14.994 seconds (process running for 15.384)
2024-07-06T11:12:36.020+03:00  INFO 77352 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T11:12:36.021+03:00  INFO 77352 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T11:12:36.022+03:00  INFO 77352 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T11:12:47.157+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6718e86c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:12:47.994+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1fc4152c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:12:48.739+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7570ec15 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:12:57.180+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@27162aed (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:12:58.018+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3806084f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:12:58.759+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1f6867c3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:13:00.756+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-2] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@acd3460 marked as broken because of SQLSTATE(08S01), ErrorCode(0)

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 22 437 milliseconds ago. The last packet sent successfully to the server was 24 456 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:968) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:246) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:167) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:265) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:67) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:204) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:555) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:418) ~[spring-orm-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy160.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy133.findByLogin(Unknown Source) ~[na:na]
	at dev.guarmo.whales.security.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:18) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:107) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 22 437 milliseconds ago. The last packet sent successfully to the server was 24 456 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:660) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:889) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 117 common frames omitted
Caused by: java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 122 common frames omitted

2024-07-06T11:13:00.761+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2024-07-06T11:13:00.761+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet successfully received from the server was 22 437 milliseconds ago. The last packet sent successfully to the server was 24 456 milliseconds ago.
2024-07-06T11:13:03.543+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2e91a9ff (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:13:04.093+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@444f9e96 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:13:06.978+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@66da6110 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T11:13:07.149+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08003
2024-07-06T11:13:07.149+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30010ms (total=0, active=0, idle=0, waiting=2)
2024-07-06T11:13:07.151+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : No operations allowed after connection closed.
2024-07-06T11:13:07.983+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08003
2024-07-06T11:13:07.984+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30009ms (total=0, active=0, idle=0, waiting=1)
2024-07-06T11:13:07.984+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : No operations allowed after connection closed.
2024-07-06T11:13:08.729+03:00  WARN 77352 --- [jwt-token-server] [http-nio-6028-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2024-07-06T11:13:08.729+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30003ms (total=0, active=0, idle=0, waiting=0)
2024-07-06T11:13:08.730+03:00 ERROR 77352 --- [jwt-token-server] [http-nio-6028-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2024-07-06T11:17:06.418+03:00  INFO 77352 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:17:06.419+03:00  INFO 77352 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T11:20:01.831+03:00  INFO 74328 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 74328 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T11:20:01.832+03:00  INFO 74328 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T11:20:02.236+03:00  INFO 74328 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T11:20:02.293+03:00  INFO 74328 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 9 JPA repository interfaces.
2024-07-06T11:20:02.621+03:00  INFO 74328 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T11:20:02.628+03:00  INFO 74328 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T11:20:02.629+03:00  INFO 74328 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T11:20:02.680+03:00  INFO 74328 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T11:20:02.680+03:00  INFO 74328 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 822 ms
2024-07-06T11:20:02.782+03:00  INFO 74328 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T11:20:02.815+03:00  INFO 74328 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T11:20:02.835+03:00  INFO 74328 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T11:20:03.012+03:00  INFO 74328 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T11:20:03.028+03:00  INFO 74328 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T11:20:04.033+03:00  INFO 74328 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4882b9a
2024-07-06T11:20:04.035+03:00  INFO 74328 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T11:20:04.260+03:00  WARN 74328 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T11:20:04.914+03:00  INFO 74328 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T11:20:13.241+03:00  INFO 74328 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:20:13.389+03:00  INFO 74328 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T11:20:13.812+03:00  WARN 74328 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T11:20:13.827+03:00  INFO 74328 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T11:20:14.015+03:00  INFO 74328 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2762e9a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b8e2ea7, org.springframework.security.web.context.SecurityContextHolderFilter@249f95a2, org.springframework.security.web.header.HeaderWriterFilter@48ac4201, org.springframework.web.filter.CorsFilter@6b994b71, org.springframework.security.web.authentication.logout.LogoutFilter@1afea182, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@a9e31e8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@71e839ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c741be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a0afe5b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fb87b73, org.springframework.security.web.session.SessionManagementFilter@39584147, org.springframework.security.web.access.ExceptionTranslationFilter@5d81b90a, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3a3738]
2024-07-06T11:20:14.207+03:00  INFO 74328 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T11:20:14.611+03:00  INFO 74328 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 13.022 seconds (process running for 13.409)
2024-07-06T11:22:36.822+03:00  INFO 74328 --- [jwt-token-server] [http-nio-6028-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T11:22:36.823+03:00  INFO 74328 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T11:22:36.824+03:00  INFO 74328 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T11:22:40.248+03:00 ERROR 74328 --- [jwt-token-server] [http-nio-6028-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null] with root cause

java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null
	at dev.guarmo.whales.service.UserService.addUser(UserService.java:47) ~[classes/:na]
	at dev.guarmo.whales.controller.AuthController.addUser(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T11:32:14.534+03:00 ERROR 74328 --- [jwt-token-server] [http-nio-6028-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: dev.guarmo.whales.model.transaction.purchase.Purchase] with root cause

org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: dev.guarmo.whales.model.transaction.purchase.Purchase
	at org.hibernate.metamodel.mapping.EntityIdentifierMapping.getIdentifierIfNotUnsaved(EntityIdentifierMapping.java:106) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.getAssociationKeyFromSide(SimpleForeignKeyDescriptor.java:498) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.ManyToManyCollectionPart.decompose(ManyToManyCollectionPart.java:205) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.collection.BasicCollectionPersister.applyInsertRowValues(BasicCollectionPersister.java:450) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.collection.mutation.InsertRowsCoordinatorStandard.insertRows(InsertRowsCoordinatorStandard.java:109) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.collection.BasicCollectionPersister.recreate(BasicCollectionPersister.java:119) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.CollectionUpdateAction.execute(CollectionUpdateAction.java:81) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy133.save(Unknown Source) ~[na:na]
	at dev.guarmo.whales.helper.UserSaver.save(UserSaver.java:24) ~[classes/:na]
	at dev.guarmo.whales.service.PurchaseService.linkAndSavePurchaseToUserAndBonusesToReferrals(PurchaseService.java:27) ~[classes/:na]
	at dev.guarmo.whales.service.InvestModelService.buyInvestModel(InvestModelService.java:68) ~[classes/:na]
	at dev.guarmo.whales.controller.InvestEntityController.buyTable(InvestEntityController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T11:42:50.134+03:00  INFO 74328 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:42:50.136+03:00  INFO 74328 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T11:42:53.758+03:00  INFO 88620 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 88620 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T11:42:53.761+03:00  INFO 88620 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T11:42:54.201+03:00  INFO 88620 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T11:42:54.251+03:00  INFO 88620 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T11:42:54.586+03:00  INFO 88620 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T11:42:54.593+03:00  INFO 88620 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T11:42:54.593+03:00  INFO 88620 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T11:42:54.633+03:00  INFO 88620 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T11:42:54.633+03:00  INFO 88620 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 837 ms
2024-07-06T11:42:54.737+03:00  INFO 88620 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T11:42:54.769+03:00  INFO 88620 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T11:42:54.790+03:00  INFO 88620 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T11:42:54.993+03:00  INFO 88620 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T11:42:55.010+03:00  INFO 88620 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T11:42:55.937+03:00  INFO 88620 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T11:42:55.941+03:00  INFO 88620 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T11:42:56.140+03:00  WARN 88620 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T11:42:56.788+03:00  INFO 88620 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T11:43:00.296+03:00  INFO 88620 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:43:00.481+03:00  INFO 88620 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T11:43:00.933+03:00  WARN 88620 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T11:43:00.949+03:00  INFO 88620 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T11:43:01.141+03:00  INFO 88620 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28b995b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18f6ccf4, org.springframework.security.web.context.SecurityContextHolderFilter@1ca574db, org.springframework.security.web.header.HeaderWriterFilter@7d525b45, org.springframework.web.filter.CorsFilter@72dc9f9d, org.springframework.security.web.authentication.logout.LogoutFilter@20ac726c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd98c48, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@73032867, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fd65f9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59d99269, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45ec6bb3, org.springframework.security.web.session.SessionManagementFilter@124ba047, org.springframework.security.web.access.ExceptionTranslationFilter@76ad0058, org.springframework.security.web.access.intercept.AuthorizationFilter@280d1d8d]
2024-07-06T11:43:01.335+03:00  INFO 88620 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T11:43:01.680+03:00  INFO 88620 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 8.219 seconds (process running for 8.574)
2024-07-06T11:43:51.779+03:00  INFO 88620 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T11:43:51.780+03:00  INFO 88620 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T11:43:51.781+03:00  INFO 88620 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T11:44:11.821+03:00  INFO 88620 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T11:44:23.988+03:00  INFO 88620 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table [FAILED toString()] InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:22:37.573332, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@41dbec7b)
2024-07-06T11:48:15.857+03:00  WARN 88620 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m19s782ms607µs900ns).
2024-07-06T11:48:15.914+03:00  INFO 88620 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:48:15.916+03:00  INFO 88620 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T11:48:15.922+03:00  WARN 88620 --- [jwt-token-server] [http-nio-6028-exec-3] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5 marked as broken because of SQLSTATE(08S01), ErrorCode(0)

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 230 442 milliseconds ago. The last packet sent successfully to the server was 230 525 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2022) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:402) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:282) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:617) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy138.save(Unknown Source) ~[na:na]
	at dev.guarmo.whales.helper.InvestModelHelper.tableReceivedMainBonus(InvestModelHelper.java:73) ~[classes/:na]
	at dev.guarmo.whales.service.IncomeService.createAndLinkAndSaveMainBonusToUser(IncomeService.java:89) ~[classes/:na]
	at dev.guarmo.whales.service.ReferralBonusService.linkMainBonusToRandomReferral(ReferralBonusService.java:38) ~[classes/:na]
	at dev.guarmo.whales.service.PurchaseService.linkAndSavePurchaseToUserAndBonusesToReferrals(PurchaseService.java:34) ~[classes/:na]
	at dev.guarmo.whales.service.InvestModelService.buyInvestModel(InvestModelService.java:68) ~[classes/:na]
	at dev.guarmo.whales.controller.InvestEntityController.buyTable(InvestEntityController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 230 442 milliseconds ago. The last packet sent successfully to the server was 230 525 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:658) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2005) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 129 common frames omitted
Caused by: java.net.SocketException: Socket closed
	at java.base/sun.nio.ch.NioSocketImpl.endRead(NioSocketImpl.java:253) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:332) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 135 common frames omitted

2024-07-06T11:52:05.552+03:00  INFO 51884 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 51884 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T11:52:05.554+03:00  INFO 51884 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T11:52:06.386+03:00  INFO 51884 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T11:52:06.436+03:00  INFO 51884 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T11:52:06.760+03:00  INFO 51884 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T11:52:06.766+03:00  INFO 51884 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T11:52:06.766+03:00  INFO 51884 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T11:52:06.803+03:00  INFO 51884 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T11:52:06.803+03:00  INFO 51884 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1225 ms
2024-07-06T11:52:06.902+03:00  INFO 51884 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T11:52:06.935+03:00  INFO 51884 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T11:52:06.955+03:00  INFO 51884 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T11:52:07.140+03:00  INFO 51884 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T11:52:07.162+03:00  INFO 51884 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T11:52:08.026+03:00  INFO 51884 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T11:52:08.028+03:00  INFO 51884 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T11:52:08.217+03:00  WARN 51884 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T11:52:08.863+03:00  INFO 51884 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T11:52:12.136+03:00  INFO 51884 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:52:12.283+03:00  INFO 51884 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T11:52:12.723+03:00  WARN 51884 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T11:52:12.743+03:00  INFO 51884 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T11:52:12.926+03:00  INFO 51884 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c7e2c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39bbe17c, org.springframework.security.web.context.SecurityContextHolderFilter@423ddfe1, org.springframework.security.web.header.HeaderWriterFilter@5efb7f82, org.springframework.web.filter.CorsFilter@3760f3e8, org.springframework.security.web.authentication.logout.LogoutFilter@43347199, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6fb87b73, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3c964873, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@124ba047, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7625bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73032867, org.springframework.security.web.session.SessionManagementFilter@112d94d, org.springframework.security.web.access.ExceptionTranslationFilter@70c741be, org.springframework.security.web.access.intercept.AuthorizationFilter@49442e03]
2024-07-06T11:52:13.122+03:00  INFO 51884 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T11:52:13.481+03:00  INFO 51884 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 8.159 seconds (process running for 8.547)
2024-07-06T11:53:22.307+03:00  INFO 51884 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:53:22.309+03:00  INFO 51884 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T11:55:04.967+03:00  INFO 69136 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 69136 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T11:55:04.969+03:00  INFO 69136 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T11:55:05.377+03:00  INFO 69136 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T11:55:05.427+03:00  INFO 69136 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T11:55:05.756+03:00  INFO 69136 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T11:55:05.763+03:00  INFO 69136 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T11:55:05.763+03:00  INFO 69136 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T11:55:05.801+03:00  INFO 69136 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T11:55:05.802+03:00  INFO 69136 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 809 ms
2024-07-06T11:55:05.901+03:00  INFO 69136 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T11:55:05.930+03:00  INFO 69136 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T11:55:05.950+03:00  INFO 69136 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T11:55:06.136+03:00  INFO 69136 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T11:55:06.151+03:00  INFO 69136 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T11:55:07.085+03:00  INFO 69136 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@12608986
2024-07-06T11:55:07.088+03:00  INFO 69136 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T11:55:07.297+03:00  WARN 69136 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T11:55:07.944+03:00  INFO 69136 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T11:55:15.755+03:00  INFO 69136 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:55:15.933+03:00  INFO 69136 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T11:55:16.328+03:00  WARN 69136 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T11:55:16.344+03:00  INFO 69136 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T11:55:16.532+03:00  INFO 69136 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@280d1d8d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@397fced4, org.springframework.security.web.context.SecurityContextHolderFilter@21cb907d, org.springframework.security.web.header.HeaderWriterFilter@2c5dfc9b, org.springframework.web.filter.CorsFilter@2026af0, org.springframework.security.web.authentication.logout.LogoutFilter@299003eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3d1254b9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@736905fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3063493e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5efb7f82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31c9bb2f, org.springframework.security.web.session.SessionManagementFilter@372dc92e, org.springframework.security.web.access.ExceptionTranslationFilter@7cb15360, org.springframework.security.web.access.intercept.AuthorizationFilter@d7d984c]
2024-07-06T11:55:16.724+03:00  INFO 69136 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T11:55:17.086+03:00  INFO 69136 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 12.352 seconds (process running for 12.716)
2024-07-06T11:56:13.879+03:00  INFO 69136 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T11:56:13.879+03:00  INFO 69136 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T11:56:13.880+03:00  INFO 69136 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T11:56:17.614+03:00 ERROR 69136 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null] with root cause

java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null
	at dev.guarmo.whales.service.UserService.addUser(UserService.java:47) ~[classes/:na]
	at dev.guarmo.whales.controller.AuthController.addUser(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T11:56:51.539+03:00  INFO 69136 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T11:56:51.540+03:00  INFO 69136 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T12:43:20.690+03:00  INFO 92716 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 92716 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T12:43:20.692+03:00  INFO 92716 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T12:43:21.094+03:00  INFO 92716 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T12:43:21.142+03:00  INFO 92716 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 9 JPA repository interfaces.
2024-07-06T12:43:21.475+03:00  INFO 92716 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T12:43:21.482+03:00  INFO 92716 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T12:43:21.482+03:00  INFO 92716 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T12:43:21.526+03:00  INFO 92716 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T12:43:21.526+03:00  INFO 92716 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 809 ms
2024-07-06T12:43:21.625+03:00  INFO 92716 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T12:43:21.654+03:00  INFO 92716 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T12:43:21.673+03:00  INFO 92716 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T12:43:21.913+03:00  INFO 92716 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T12:43:21.931+03:00  INFO 92716 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T12:43:22.911+03:00  INFO 92716 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@12608986
2024-07-06T12:43:22.913+03:00  INFO 92716 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T12:43:23.130+03:00  WARN 92716 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T12:43:23.816+03:00  INFO 92716 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T12:43:27.430+03:00  INFO 92716 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T12:43:27.692+03:00  INFO 92716 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T12:43:28.204+03:00  WARN 92716 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T12:43:28.224+03:00  INFO 92716 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T12:43:28.448+03:00  INFO 92716 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fb87b73, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f2788f2, org.springframework.security.web.context.SecurityContextHolderFilter@611d867, org.springframework.security.web.header.HeaderWriterFilter@b7b5e7, org.springframework.web.filter.CorsFilter@75f67ea7, org.springframework.security.web.authentication.logout.LogoutFilter@38bb297, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2555b92, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b8e2ea7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34775090, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@434896b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@549561ab, org.springframework.security.web.session.SessionManagementFilter@249f95a2, org.springframework.security.web.access.ExceptionTranslationFilter@f2bec99, org.springframework.security.web.access.intercept.AuthorizationFilter@39da0e47]
2024-07-06T12:43:28.676+03:00  INFO 92716 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T12:43:28.843+03:00  INFO 92716 --- [jwt-token-server] [http-nio-6028-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T12:43:28.843+03:00  INFO 92716 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T12:43:28.844+03:00  INFO 92716 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-07-06T12:43:29.054+03:00  INFO 92716 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 8.636 seconds (process running for 9.05)
2024-07-06T12:44:09.590+03:00  INFO 92716 --- [jwt-token-server] [http-nio-6028-exec-1] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T12:47:48.802+03:00  WARN 92716 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m55s772ms609µs800ns).
2024-07-06T12:47:51.272+03:00  INFO 92716 --- [jwt-token-server] [http-nio-6028-exec-1] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=110.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@73ac1060, dev.guarmo.whales.model.transaction.income.Income@214168e7, dev.guarmo.whales.model.transaction.income.Income@6e47e11e, dev.guarmo.whales.model.transaction.income.Income@7319b3b8], purchases=[], reflink=https://t.me/clicker_gamer_bot?start=NzE0MDI3MjYzNz9FTkc, investModels=[InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d5600c8), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@615da9a4), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@70c151b9), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5340189), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6075711b), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8c1fcee), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@44086f6f), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@af8e402), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@739d1a78), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@79e81e2e), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5d6f7863), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@39cdc7c8), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@eccd7a8), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34ec5fda), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@445e0fd5)]) InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d5600c8)
2024-07-06T12:48:25.213+03:00  INFO 92716 --- [jwt-token-server] [http-nio-6028-exec-1] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=110.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@73ac1060, dev.guarmo.whales.model.transaction.income.Income@214168e7, dev.guarmo.whales.model.transaction.income.Income@6e47e11e, dev.guarmo.whales.model.transaction.income.Income@7319b3b8], purchases=[], reflink=https://t.me/clicker_gamer_bot?start=NzE0MDI3MjYzNz9FTkc, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d5600c8), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@615da9a4), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@70c151b9), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5340189), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6075711b), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8c1fcee), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@44086f6f), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@af8e402), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@739d1a78), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@79e81e2e), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5d6f7863), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@39cdc7c8), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@eccd7a8), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34ec5fda), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@445e0fd5)])
2024-07-06T12:50:26.307+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Connection reset

java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:26.825+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:27.521+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:28.107+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:29.292+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:30.328+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:32.093+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:37.724+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:42.816+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:50:48.610+03:00 ERROR 92716 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T12:51:27.360+03:00  INFO 92716 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T12:51:27.363+03:00  INFO 92716 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T12:51:27.373+03:00  INFO 92716 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T13:07:00.554+03:00  INFO 68016 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 68016 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T13:07:00.555+03:00  INFO 68016 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T13:07:01.006+03:00  INFO 68016 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T13:07:01.073+03:00  INFO 68016 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 9 JPA repository interfaces.
2024-07-06T13:07:01.408+03:00  INFO 68016 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T13:07:01.416+03:00  INFO 68016 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T13:07:01.416+03:00  INFO 68016 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T13:07:01.453+03:00  INFO 68016 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T13:07:01.453+03:00  INFO 68016 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 872 ms
2024-07-06T13:07:01.549+03:00  INFO 68016 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T13:07:01.580+03:00  INFO 68016 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T13:07:01.600+03:00  INFO 68016 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T13:07:01.771+03:00  INFO 68016 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T13:07:01.788+03:00  INFO 68016 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T13:07:02.840+03:00  INFO 68016 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T13:07:02.842+03:00  INFO 68016 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T13:07:03.047+03:00  WARN 68016 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T13:07:03.690+03:00  INFO 68016 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T13:07:07.399+03:00  INFO 68016 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T13:07:07.558+03:00  INFO 68016 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T13:07:08.080+03:00  WARN 68016 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T13:07:08.104+03:00  INFO 68016 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T13:07:08.315+03:00  INFO 68016 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c7e2c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39bbe17c, org.springframework.security.web.context.SecurityContextHolderFilter@423ddfe1, org.springframework.security.web.header.HeaderWriterFilter@5efb7f82, org.springframework.web.filter.CorsFilter@3760f3e8, org.springframework.security.web.authentication.logout.LogoutFilter@43347199, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6fb87b73, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3c964873, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@124ba047, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7625bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73032867, org.springframework.security.web.session.SessionManagementFilter@112d94d, org.springframework.security.web.access.ExceptionTranslationFilter@70c741be, org.springframework.security.web.access.intercept.AuthorizationFilter@49442e03]
2024-07-06T13:07:08.518+03:00  INFO 68016 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T13:07:08.904+03:00  INFO 68016 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 8.582 seconds (process running for 9.073)
2024-07-06T13:07:10.902+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T13:07:10.902+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T13:07:10.905+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-06T13:08:11.670+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T13:08:24.454+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=118.7, incomes=[dev.guarmo.whales.model.transaction.income.Income@1de9b795, dev.guarmo.whales.model.transaction.income.Income@35fe7f8c, dev.guarmo.whales.model.transaction.income.Income@50c1a759, dev.guarmo.whales.model.transaction.income.Income@6c97a82c, dev.guarmo.whales.model.transaction.income.Income@3114e548, dev.guarmo.whales.model.transaction.income.Income@76f77453, dev.guarmo.whales.model.transaction.income.Income@4f3c05b1], purchases=[], reflink=https://t.me/clicker_gamer_bot?start=NzE0MDI3MjYzNz9FTkc, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@78e6a361), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@554d63cf), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@206b8a87), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@71bdd46), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@483ff308), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c796f40), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c87b05c), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@65963d09), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@525f88d4), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@262cd9ea), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4530901f), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@41377ed2), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@56f3fb44), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@dd97c55)]) InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b)
2024-07-06T13:08:25.694+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : BEFORE: Updating info in every table [InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.925534, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.667620, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b)]
2024-07-06T13:08:25.695+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : AFTER: Updating info in every table [InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.925534, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.667620, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b)]
2024-07-06T13:08:27.232+03:00  INFO 68016 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=118.7, incomes=[dev.guarmo.whales.model.transaction.income.Income@1de9b795, dev.guarmo.whales.model.transaction.income.Income@35fe7f8c, dev.guarmo.whales.model.transaction.income.Income@50c1a759, dev.guarmo.whales.model.transaction.income.Income@6c97a82c, dev.guarmo.whales.model.transaction.income.Income@3114e548, dev.guarmo.whales.model.transaction.income.Income@76f77453, dev.guarmo.whales.model.transaction.income.Income@4f3c05b1], purchases=[], reflink=https://t.me/clicker_gamer_bot?start=NzE0MDI3MjYzNz9FTkc, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7981a6b), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@78e6a361), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@554d63cf), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@206b8a87), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@71bdd46), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@483ff308), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c796f40), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c87b05c), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@65963d09), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@525f88d4), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@262cd9ea), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4530901f), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@41377ed2), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@56f3fb44), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@dd97c55)])
2024-07-06T13:09:36.420+03:00  INFO 68016 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Read timed out

java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:288) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:314) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T13:10:23.091+03:00  WARN 68016 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T13:10:33.105+03:00  WARN 68016 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7cdbb53f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T13:10:43.130+03:00  WARN 68016 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3d92c62b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T13:10:43.133+03:00  WARN 68016 --- [jwt-token-server] [http-nio-6028-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08003
2024-07-06T13:10:43.133+03:00 ERROR 68016 --- [jwt-token-server] [http-nio-6028-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30054ms (total=9, active=0, idle=9, waiting=0)
2024-07-06T13:10:43.133+03:00 ERROR 68016 --- [jwt-token-server] [http-nio-6028-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : No operations allowed after connection closed.
2024-07-06T13:10:43.140+03:00 ERROR 68016 --- [jwt-token-server] [http-nio-6028-exec-6] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30054ms (total=9, active=0, idle=9, waiting=0)] [n/a]] with root cause

com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2431) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:562) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.isConnectionDead(PoolBase.java:169) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:168) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:144) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:127) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:153) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:155) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.lambda$list$0(JdbcSelectExecutor.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:231) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:167) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:265) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:67) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:204) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:555) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy133.findByLogin(Unknown Source) ~[na:na]
	at dev.guarmo.whales.helper.UserHelper.findByLoginModel(UserHelper.java:18) ~[classes/:na]
	at dev.guarmo.whales.service.InvestModelService.buyInvestModel(InvestModelService.java:47) ~[classes/:na]
	at dev.guarmo.whales.controller.InvestEntityController.buyTable(InvestEntityController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T13:11:40.045+03:00  WARN 68016 --- [jwt-token-server] [http-nio-6028-exec-10] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1718f7b1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T13:11:46.606+03:00  INFO 68016 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T13:11:46.607+03:00  INFO 68016 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T13:11:46.609+03:00  WARN 68016 --- [jwt-token-server] [http-nio-6028-exec-10] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@26458745 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T13:11:49.233+03:00  INFO 86740 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 86740 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T13:11:49.235+03:00  INFO 86740 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T13:11:49.633+03:00  INFO 86740 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T13:11:49.682+03:00  INFO 86740 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 9 JPA repository interfaces.
2024-07-06T13:11:50.027+03:00  INFO 86740 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T13:11:50.034+03:00  INFO 86740 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T13:11:50.034+03:00  INFO 86740 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T13:11:50.074+03:00  INFO 86740 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T13:11:50.074+03:00  INFO 86740 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 815 ms
2024-07-06T13:11:50.183+03:00  INFO 86740 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T13:11:50.216+03:00  INFO 86740 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T13:11:50.240+03:00  INFO 86740 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T13:11:50.439+03:00  INFO 86740 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T13:11:50.459+03:00  INFO 86740 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T13:11:51.391+03:00  INFO 86740 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T13:11:51.394+03:00  INFO 86740 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T13:11:51.600+03:00  WARN 86740 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T13:11:52.260+03:00  INFO 86740 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T13:11:55.864+03:00  INFO 86740 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T13:11:56.045+03:00  INFO 86740 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T13:11:56.480+03:00  WARN 86740 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T13:11:56.493+03:00  INFO 86740 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T13:11:56.675+03:00  INFO 86740 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c7e2c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39bbe17c, org.springframework.security.web.context.SecurityContextHolderFilter@423ddfe1, org.springframework.security.web.header.HeaderWriterFilter@5efb7f82, org.springframework.web.filter.CorsFilter@3760f3e8, org.springframework.security.web.authentication.logout.LogoutFilter@43347199, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6fb87b73, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3c964873, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@124ba047, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7625bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73032867, org.springframework.security.web.session.SessionManagementFilter@112d94d, org.springframework.security.web.access.ExceptionTranslationFilter@70c741be, org.springframework.security.web.access.intercept.AuthorizationFilter@49442e03]
2024-07-06T13:11:56.880+03:00  INFO 86740 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T13:11:57.229+03:00  INFO 86740 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 8.229 seconds (process running for 8.59)
2024-07-06T13:12:11.195+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T13:12:11.195+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T13:12:11.196+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T13:12:23.465+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=92.6, incomes=[dev.guarmo.whales.model.transaction.income.Income@74859878, dev.guarmo.whales.model.transaction.income.Income@70b9b5a0], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@6f80a67], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1ab67d97), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6038188c), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2356c44e), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35586aa2), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ec380), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@44448d38), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f2ce954), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@72f60e70), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21022067), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2ad59705), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@63a3ab07), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1929a291), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21386835), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7901492c), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c4a3ace)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=90.0, incomes=[], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@451a4cae], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1ab67d97), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6038188c), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2356c44e), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35586aa2), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ec380), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@44448d38), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f2ce954), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@72f60e70), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21022067), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2ad59705), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@63a3ab07), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1929a291), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21386835), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7901492c), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c4a3ace)])]
2024-07-06T13:13:03.980+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=100.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@74859878, dev.guarmo.whales.model.transaction.income.Income@70b9b5a0, dev.guarmo.whales.model.transaction.income.Income@34f71aca], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@6f80a67], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1ab67d97), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6038188c), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2356c44e), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35586aa2), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ec380), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@44448d38), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f2ce954), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@72f60e70), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21022067), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2ad59705), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@63a3ab07), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1929a291), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21386835), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7901492c), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c4a3ace)]) InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1ab67d97)
2024-07-06T13:13:24.859+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=100.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@74859878, dev.guarmo.whales.model.transaction.income.Income@70b9b5a0, dev.guarmo.whales.model.transaction.income.Income@34f71aca], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@6f80a67], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1ab67d97), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6038188c), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2356c44e), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35586aa2), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ec380), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@44448d38), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f2ce954), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@72f60e70), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21022067), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2ad59705), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@63a3ab07), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1929a291), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@21386835), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7901492c), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c4a3ace)])
2024-07-06T13:18:16.322+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=91.3, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b8107a0], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@53725084], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@175e9ec3), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ff77104), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@33158377), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2a7ea88), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3874c32a), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3576ce33), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@237c62bd), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6c3c8460), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d868ee3), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4cc7b717), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@43d55634), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@776d219f), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d7e82e2), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ff4d9f8)])]
2024-07-06T13:19:22.073+03:00  WARN 86740 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m19s932ms579µs900ns).
2024-07-06T13:19:22.379+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=98.7, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b8107a0, dev.guarmo.whales.model.transaction.income.Income@51b15472], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@53725084], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@175e9ec3), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ff77104), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@33158377), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2a7ea88), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3874c32a), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3576ce33), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@237c62bd), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6c3c8460), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d868ee3), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4cc7b717), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@43d55634), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@776d219f), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d7e82e2), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ff4d9f8)]) InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b)
2024-07-06T13:19:26.108+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : BEFORE: Updating info in every table [InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.925534, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.667620, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.487606, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b)]
2024-07-06T13:19:26.109+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : AFTER: Updating info in every table [InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.925534, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.667620, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.487606, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b)]
2024-07-06T13:19:27.252+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=98.7, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b8107a0, dev.guarmo.whales.model.transaction.income.Income@51b15472], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@53725084], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42b8d14b), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@175e9ec3), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ff77104), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@33158377), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2a7ea88), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3874c32a), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3576ce33), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@237c62bd), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6c3c8460), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d868ee3), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4cc7b717), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@43d55634), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@776d219f), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d7e82e2), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6ff4d9f8)])
2024-07-06T13:29:02.326+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=101.6, incomes=[dev.guarmo.whales.model.transaction.income.Income@6270ddc4, dev.guarmo.whales.model.transaction.income.Income@68ef6b93, dev.guarmo.whales.model.transaction.income.Income@c15be67, dev.guarmo.whales.model.transaction.income.Income@fb20894, dev.guarmo.whales.model.transaction.income.Income@52bc274d], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@60c80084], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4917b0b4), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@60cfe072), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@20466b97), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@812f128), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4875d4fd), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4ad39ddd), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@17168812), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@292d2803), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685fdfee), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6402c0e7), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d4532d9), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@478f3011), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@619e6306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c79aca7)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=100.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@720365e8, dev.guarmo.whales.model.transaction.income.Income@71c0f549, dev.guarmo.whales.model.transaction.income.Income@40537026], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@35004b42], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4917b0b4), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@60cfe072), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@20466b97), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@812f128), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4875d4fd), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4ad39ddd), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@17168812), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@292d2803), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685fdfee), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6402c0e7), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d4532d9), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@478f3011), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@619e6306), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c79aca7)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=90.0, incomes=[], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@4284c5a6], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4917b0b4), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@60cfe072), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@20466b97), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@812f128), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4875d4fd), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4ad39ddd), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@17168812), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@292d2803), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685fdfee), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6402c0e7), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d4532d9), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@478f3011), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@619e6306), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c79aca7)]), UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=90.0, incomes=[], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@31f35d5c], reflink=null, investModels=[InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4917b0b4), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@60cfe072), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@20466b97), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@812f128), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4875d4fd), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4ad39ddd), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@17168812), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@292d2803), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685fdfee), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6402c0e7), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d4532d9), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@478f3011), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@619e6306), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c79aca7)])]
2024-07-06T13:29:36.853+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=97.4, incomes=[dev.guarmo.whales.model.transaction.income.Income@21aa7b0c], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@31f35d5c], reflink=null, investModels=[InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4917b0b4), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@60cfe072), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@20466b97), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@812f128), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4875d4fd), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4ad39ddd), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@17168812), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@292d2803), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685fdfee), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6402c0e7), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d4532d9), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@478f3011), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@619e6306), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c79aca7)]) InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4)
2024-07-06T13:29:39.368+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=97.4, incomes=[dev.guarmo.whales.model.transaction.income.Income@21aa7b0c], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@31f35d5c], reflink=null, investModels=[InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@77f275f4), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4917b0b4), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@60cfe072), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@20466b97), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@812f128), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4875d4fd), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4ad39ddd), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@17168812), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@292d2803), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685fdfee), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6402c0e7), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6d4532d9), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@478f3011), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@619e6306), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2c79aca7)])
2024-07-06T13:33:59.750+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=102.39999999999999, incomes=[dev.guarmo.whales.model.transaction.income.Income@73d17f7e, dev.guarmo.whales.model.transaction.income.Income@76877389, dev.guarmo.whales.model.transaction.income.Income@6d62965f, dev.guarmo.whales.model.transaction.income.Income@3e43d51f, dev.guarmo.whales.model.transaction.income.Income@713e8c67, dev.guarmo.whales.model.transaction.income.Income@25f2b28b], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@36812b71], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b50a5e1), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1b8204b8), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@50ee2396), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d9977d4), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5dc49fbb), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35ad3863), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fb0d159), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@765bcf86), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ce07025), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42c4ad45), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@52f8e1a6), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40894f4), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7a0ebb9d), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@54d4a584), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40ecf38b)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=100.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@3f3216f1, dev.guarmo.whales.model.transaction.income.Income@1d21090c, dev.guarmo.whales.model.transaction.income.Income@35e003d4], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2ab92126], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b50a5e1), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1b8204b8), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@50ee2396), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d9977d4), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5dc49fbb), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35ad3863), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fb0d159), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@765bcf86), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ce07025), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42c4ad45), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@52f8e1a6), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40894f4), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7a0ebb9d), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@54d4a584), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40ecf38b)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=91.3, incomes=[dev.guarmo.whales.model.transaction.income.Income@30e61983], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@348d167c], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b50a5e1), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1b8204b8), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@50ee2396), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d9977d4), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5dc49fbb), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35ad3863), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fb0d159), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@765bcf86), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ce07025), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42c4ad45), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@52f8e1a6), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40894f4), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7a0ebb9d), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@54d4a584), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40ecf38b)])]
2024-07-06T13:34:57.419+03:00  WARN 86740 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m20s856ms177µs100ns).
2024-07-06T13:34:57.693+03:00  INFO 86740 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=107.4, incomes=[dev.guarmo.whales.model.transaction.income.Income@3f3216f1, dev.guarmo.whales.model.transaction.income.Income@1d21090c, dev.guarmo.whales.model.transaction.income.Income@35e003d4, dev.guarmo.whales.model.transaction.income.Income@6bb38dd0], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2ab92126], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b50a5e1), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1b8204b8), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@50ee2396), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3d9977d4), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5dc49fbb), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@35ad3863), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fb0d159), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@765bcf86), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ce07025), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42c4ad45), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@52f8e1a6), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40894f4), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7a0ebb9d), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@54d4a584), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@40ecf38b)]) InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b50a5e1)
2024-07-06T13:36:58.591+03:00  WARN 86740 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m1s172ms193µs600ns).
2024-07-06T13:54:00.173+03:00  WARN 86740 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m1s582ms191µs).
2024-07-06T13:54:00.178+03:00 ERROR 86740 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Remote host terminated the handshake

javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake
	at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1719) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1518) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]
Caused by: java.io.EOFException: SSL peer shut down incorrectly
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160) ~[na:na]
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]
	... 16 common frames omitted

2024-07-06T13:54:19.463+03:00  WARN 86740 --- [jwt-token-server] [http-nio-6028-exec-7] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@2eeddf62 marked as broken because of SQLSTATE(08S01), ErrorCode(0)

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1 156 705 milliseconds ago. The last packet sent successfully to the server was 1 156 778 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2022) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:402) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:282) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:617) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy138.save(Unknown Source) ~[na:na]
	at dev.guarmo.whales.helper.InvestModelHelper.tableReceivedMainBonus(InvestModelHelper.java:73) ~[classes/:na]
	at dev.guarmo.whales.service.IncomeService.createAndLinkAndSaveMainBonusToUser(IncomeService.java:89) ~[classes/:na]
	at dev.guarmo.whales.service.ReferralBonusService.linkMainBonusToRandomReferral(ReferralBonusService.java:38) ~[classes/:na]
	at dev.guarmo.whales.service.PurchaseService.linkAndSavePurchaseToUserAndBonusesToReferrals(PurchaseService.java:34) ~[classes/:na]
	at dev.guarmo.whales.service.InvestModelService.buyInvestModel(InvestModelService.java:68) ~[classes/:na]
	at dev.guarmo.whales.controller.InvestEntityController.buyTable(InvestEntityController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1 156 705 milliseconds ago. The last packet sent successfully to the server was 1 156 778 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:658) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2005) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 129 common frames omitted
Caused by: java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	... 135 common frames omitted

2024-07-06T13:54:19.493+03:00 ERROR 86740 --- [jwt-token-server] [http-nio-6028-exec-7] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction] with root cause

java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1050) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:658) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2005) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:402) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:282) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:617) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy2/jdk.proxy2.$Proxy138.save(Unknown Source) ~[na:na]
	at dev.guarmo.whales.helper.InvestModelHelper.tableReceivedMainBonus(InvestModelHelper.java:73) ~[classes/:na]
	at dev.guarmo.whales.service.IncomeService.createAndLinkAndSaveMainBonusToUser(IncomeService.java:89) ~[classes/:na]
	at dev.guarmo.whales.service.ReferralBonusService.linkMainBonusToRandomReferral(ReferralBonusService.java:38) ~[classes/:na]
	at dev.guarmo.whales.service.PurchaseService.linkAndSavePurchaseToUserAndBonusesToReferrals(PurchaseService.java:34) ~[classes/:na]
	at dev.guarmo.whales.service.InvestModelService.buyInvestModel(InvestModelService.java:68) ~[classes/:na]
	at dev.guarmo.whales.controller.InvestEntityController.buyTable(InvestEntityController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T14:10:24.008+03:00  INFO 86740 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:10:24.012+03:00  INFO 86740 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T14:11:17.499+03:00  INFO 91944 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 91944 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T14:11:17.500+03:00  INFO 91944 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T14:11:17.961+03:00  INFO 91944 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T14:11:18.003+03:00  INFO 91944 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 9 JPA repository interfaces.
2024-07-06T14:11:18.310+03:00  INFO 91944 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T14:11:18.322+03:00  INFO 91944 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T14:11:18.322+03:00  INFO 91944 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T14:11:18.371+03:00  INFO 91944 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T14:11:18.371+03:00  INFO 91944 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 848 ms
2024-07-06T14:11:18.491+03:00  INFO 91944 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T14:11:18.526+03:00  INFO 91944 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T14:11:18.557+03:00  INFO 91944 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T14:11:18.720+03:00  INFO 91944 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T14:11:18.735+03:00  INFO 91944 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T14:11:19.548+03:00  INFO 91944 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f65aa58
2024-07-06T14:11:19.550+03:00  INFO 91944 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T14:11:19.742+03:00  WARN 91944 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T14:11:20.379+03:00  INFO 91944 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T14:11:23.431+03:00  INFO 91944 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:11:23.587+03:00  INFO 91944 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T14:11:23.993+03:00  WARN 91944 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T14:11:24.005+03:00  INFO 91944 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T14:11:24.201+03:00  INFO 91944 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34775090, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e772d11, org.springframework.security.web.context.SecurityContextHolderFilter@6f77917c, org.springframework.security.web.header.HeaderWriterFilter@1428d63, org.springframework.web.filter.CorsFilter@76ad0058, org.springframework.security.web.authentication.logout.LogoutFilter@75d454a4, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2aa143ba, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@611d867, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55145dc5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60e83cb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@732f7660, org.springframework.security.web.session.SessionManagementFilter@1a177f2c, org.springframework.security.web.access.ExceptionTranslationFilter@221c097f, org.springframework.security.web.access.intercept.AuthorizationFilter@7aeb7bd6]
2024-07-06T14:11:24.411+03:00  INFO 91944 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T14:11:25.165+03:00  INFO 91944 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 7.875 seconds (process running for 8.313)
2024-07-06T14:11:27.722+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T14:11:27.722+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T14:11:27.723+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T14:12:03.145+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=103.19999999999999, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b52242, dev.guarmo.whales.model.transaction.income.Income@519fad9c, dev.guarmo.whales.model.transaction.income.Income@6f4cde5e, dev.guarmo.whales.model.transaction.income.Income@6df098a2, dev.guarmo.whales.model.transaction.income.Income@70ddedb6, dev.guarmo.whales.model.transaction.income.Income@1f8a0a3, dev.guarmo.whales.model.transaction.income.Income@237868d3], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2ddadea5], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=100.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@382efcae, dev.guarmo.whales.model.transaction.income.Income@3e13d71b, dev.guarmo.whales.model.transaction.income.Income@33a80a9], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@7ac5cf1], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=92.6, incomes=[dev.guarmo.whales.model.transaction.income.Income@2c5bf3cd, dev.guarmo.whales.model.transaction.income.Income@6b0ac2ec], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@32e1264e], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)])]
2024-07-06T14:12:03.612+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=110.6, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b52242, dev.guarmo.whales.model.transaction.income.Income@519fad9c, dev.guarmo.whales.model.transaction.income.Income@6f4cde5e, dev.guarmo.whales.model.transaction.income.Income@6df098a2, dev.guarmo.whales.model.transaction.income.Income@70ddedb6, dev.guarmo.whales.model.transaction.income.Income@1f8a0a3, dev.guarmo.whales.model.transaction.income.Income@237868d3, dev.guarmo.whales.model.transaction.income.Income@4bef02f6], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2ddadea5], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)])

InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f)
2024-07-06T14:12:03.746+03:00 ERROR 91944 --- [jwt-token-server] [http-nio-6028-exec-7] dev.guarmo.whales.teleg.Bot              : Error occurred: Error sending message: [400] Bad Request: message is too long
2024-07-06T14:12:04.782+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=110.6, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b52242, dev.guarmo.whales.model.transaction.income.Income@519fad9c, dev.guarmo.whales.model.transaction.income.Income@6f4cde5e, dev.guarmo.whales.model.transaction.income.Income@6df098a2, dev.guarmo.whales.model.transaction.income.Income@70ddedb6, dev.guarmo.whales.model.transaction.income.Income@1f8a0a3, dev.guarmo.whales.model.transaction.income.Income@237868d3, dev.guarmo.whales.model.transaction.income.Income@4bef02f6], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2ddadea5], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)])
2024-07-06T14:12:05.042+03:00  INFO 91944 --- [jwt-token-server] [http-nio-6028-exec-7] d.guarmo.whales.service.PurchaseService  : User that got 74% BONUS UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=110.6, incomes=[dev.guarmo.whales.model.transaction.income.Income@5b52242, dev.guarmo.whales.model.transaction.income.Income@519fad9c, dev.guarmo.whales.model.transaction.income.Income@6f4cde5e, dev.guarmo.whales.model.transaction.income.Income@6df098a2, dev.guarmo.whales.model.transaction.income.Income@70ddedb6, dev.guarmo.whales.model.transaction.income.Income@1f8a0a3, dev.guarmo.whales.model.transaction.income.Income@237868d3, dev.guarmo.whales.model.transaction.income.Income@4bef02f6], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2ddadea5], reflink=null, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)])

FROM UserCredentials(id=11, login=u7, role=USER, createdAt=2024-07-06T14:11:29.864010, name=Name 7, username=u7, balanceAmount=90.0, incomes=[], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@2194f5a4], reflink=null, investModels=[InvestModel(id=151, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.601466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@46b95d7f), InvestModel(id=152, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.686004, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@75d00a2d), InvestModel(id=153, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.756735, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2459f760), InvestModel(id=154, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.826180, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bb4d956), InvestModel(id=155, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.893976, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1007b1b9), InvestModel(id=156, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.967786, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@42259a14), InvestModel(id=157, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.042854, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@61d86f13), InvestModel(id=158, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.115029, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@340883d9), InvestModel(id=159, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.186835, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26efe288), InvestModel(id=160, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.256744, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@16e766dd), InvestModel(id=161, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.323802, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@26ee4d1e), InvestModel(id=162, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.393864, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6440edf7), InvestModel(id=163, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.467611, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2f1fb40b), InvestModel(id=164, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.536034, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@601f1890), InvestModel(id=165, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.609487, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@252e0ac5)])
2024-07-06T14:12:05.122+03:00 ERROR 91944 --- [jwt-token-server] [http-nio-6028-exec-7] dev.guarmo.whales.teleg.Bot              : Error occurred: Error sending message: [400] Bad Request: message is too long
2024-07-06T14:23:12.786+03:00  INFO 91944 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:23:12.787+03:00  INFO 91944 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T14:23:16.278+03:00  INFO 65124 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 65124 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T14:23:16.279+03:00  INFO 65124 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T14:23:16.692+03:00  INFO 65124 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T14:23:16.737+03:00  INFO 65124 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2024-07-06T14:23:17.063+03:00  INFO 65124 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T14:23:17.069+03:00  INFO 65124 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T14:23:17.069+03:00  INFO 65124 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T14:23:17.105+03:00  INFO 65124 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T14:23:17.106+03:00  INFO 65124 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 800 ms
2024-07-06T14:23:17.197+03:00  INFO 65124 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T14:23:17.223+03:00  INFO 65124 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T14:23:17.240+03:00  INFO 65124 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T14:23:17.415+03:00  INFO 65124 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T14:23:17.427+03:00  INFO 65124 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T14:23:19.321+03:00  INFO 65124 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@407f2029
2024-07-06T14:23:19.323+03:00  INFO 65124 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T14:23:19.500+03:00  WARN 65124 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T14:23:20.113+03:00  INFO 65124 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T14:23:23.456+03:00  INFO 65124 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:23:23.597+03:00  INFO 65124 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T14:23:24.133+03:00  WARN 65124 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T14:23:24.155+03:00  INFO 65124 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T14:23:24.445+03:00  INFO 65124 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b7b5e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aa143ba, org.springframework.security.web.context.SecurityContextHolderFilter@221c097f, org.springframework.security.web.header.HeaderWriterFilter@4a0b1701, org.springframework.web.filter.CorsFilter@7abe3d53, org.springframework.security.web.authentication.logout.LogoutFilter@6231bb88, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1d77762f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f2bec99, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1428d63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56313529, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@372dc92e, org.springframework.security.web.session.SessionManagementFilter@757501da, org.springframework.security.web.access.ExceptionTranslationFilter@294a150c, org.springframework.security.web.access.intercept.AuthorizationFilter@70201785]
2024-07-06T14:23:24.720+03:00  INFO 65124 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T14:23:24.783+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T14:23:24.783+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T14:23:24.784+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T14:23:25.145+03:00  INFO 65124 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 9.078 seconds (process running for 9.389)
2024-07-06T14:24:10.396+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=100.0, incomes=[dev.guarmo.whales.model.transaction.income.Income@1eaf15fa, dev.guarmo.whales.model.transaction.income.Income@781ae6e1, dev.guarmo.whales.model.transaction.income.Income@4b290971], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@bd74727], reflink=null, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7cf84816), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ffaf83), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@e6b7a7c), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@395c4de), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fa820c9), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@22249719), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1eb86021), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@474f3bbf), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f02b0ac), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f1347ac), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@24d48461), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@784e5481), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8263acf), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@15a1d4fa)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=93.89999999999999, incomes=[dev.guarmo.whales.model.transaction.income.Income@2270334b, dev.guarmo.whales.model.transaction.income.Income@6d308d6c, dev.guarmo.whales.model.transaction.income.Income@3adf8335], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@5aac2749], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7cf84816), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ffaf83), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@e6b7a7c), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@395c4de), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fa820c9), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@22249719), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1eb86021), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@474f3bbf), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f02b0ac), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f1347ac), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@24d48461), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@784e5481), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8263acf), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@15a1d4fa)])]
2024-07-06T14:24:10.872+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=101.3, incomes=[dev.guarmo.whales.model.transaction.income.Income@2270334b, dev.guarmo.whales.model.transaction.income.Income@6d308d6c, dev.guarmo.whales.model.transaction.income.Income@3adf8335, dev.guarmo.whales.model.transaction.income.Income@2712097c], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@5aac2749], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7cf84816), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ffaf83), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@e6b7a7c), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@395c4de), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fa820c9), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@22249719), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1eb86021), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@474f3bbf), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f02b0ac), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f1347ac), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@24d48461), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@784e5481), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8263acf), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@15a1d4fa)])

InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b)
2024-07-06T14:24:12.053+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=101.3, incomes=[dev.guarmo.whales.model.transaction.income.Income@2270334b, dev.guarmo.whales.model.transaction.income.Income@6d308d6c, dev.guarmo.whales.model.transaction.income.Income@3adf8335, dev.guarmo.whales.model.transaction.income.Income@2712097c], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@5aac2749], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7cf84816), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ffaf83), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@e6b7a7c), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@395c4de), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fa820c9), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@22249719), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1eb86021), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@474f3bbf), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f02b0ac), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f1347ac), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@24d48461), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@784e5481), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8263acf), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@15a1d4fa)])
2024-07-06T14:24:12.365+03:00  INFO 65124 --- [jwt-token-server] [http-nio-6028-exec-9] d.guarmo.whales.service.PurchaseService  : User that got 74% BONUS UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=101.3, incomes=[dev.guarmo.whales.model.transaction.income.Income@2270334b, dev.guarmo.whales.model.transaction.income.Income@6d308d6c, dev.guarmo.whales.model.transaction.income.Income@3adf8335, dev.guarmo.whales.model.transaction.income.Income@2712097c], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@5aac2749], reflink=null, investModels=[InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7cf84816), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ffaf83), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@e6b7a7c), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@395c4de), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fa820c9), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@22249719), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1eb86021), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@474f3bbf), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f02b0ac), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f1347ac), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@24d48461), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@784e5481), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8263acf), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@15a1d4fa)])

FROM UserCredentials(id=12, login=u8, role=USER, createdAt=2024-07-06T14:23:49.814277, name=Name 8, username=u8, balanceAmount=90.0, incomes=[], purchases=[dev.guarmo.whales.model.transaction.purchase.Purchase@294250ef], reflink=null, investModels=[InvestModel(id=166, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7c4b652b), InvestModel(id=167, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.493021, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7cf84816), InvestModel(id=168, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.556237, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ffaf83), InvestModel(id=169, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.634809, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@e6b7a7c), InvestModel(id=170, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.714317, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@395c4de), InvestModel(id=171, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.793049, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@fa820c9), InvestModel(id=172, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.861652, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@22249719), InvestModel(id=173, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.933466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1eb86021), InvestModel(id=174, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.013403, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@474f3bbf), InvestModel(id=175, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.093134, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f02b0ac), InvestModel(id=176, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.174003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5f1347ac), InvestModel(id=177, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.256003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@24d48461), InvestModel(id=178, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.332226, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@784e5481), InvestModel(id=179, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.412379, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@8263acf), InvestModel(id=180, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.493659, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@15a1d4fa)])
2024-07-06T14:29:36.199+03:00  INFO 65124 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:29:36.201+03:00  INFO 65124 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T14:30:14.080+03:00  INFO 87376 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 87376 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T14:30:14.081+03:00  INFO 87376 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T14:30:14.493+03:00  INFO 87376 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T14:30:14.540+03:00  INFO 87376 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 9 JPA repository interfaces.
2024-07-06T14:30:14.855+03:00  INFO 87376 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T14:30:14.861+03:00  INFO 87376 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T14:30:14.861+03:00  INFO 87376 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T14:30:14.895+03:00  INFO 87376 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T14:30:14.895+03:00  INFO 87376 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 791 ms
2024-07-06T14:30:14.981+03:00  INFO 87376 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T14:30:15.006+03:00  INFO 87376 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T14:30:15.022+03:00  INFO 87376 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T14:30:15.197+03:00  INFO 87376 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T14:30:15.210+03:00  INFO 87376 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T14:30:16.048+03:00  INFO 87376 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4377ed24
2024-07-06T14:30:16.049+03:00  INFO 87376 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T14:30:16.229+03:00  WARN 87376 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T14:30:16.815+03:00  INFO 87376 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T14:30:19.872+03:00  INFO 87376 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:30:20.074+03:00  INFO 87376 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T14:30:20.434+03:00  WARN 87376 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T14:30:20.447+03:00  INFO 87376 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T14:30:20.629+03:00  INFO 87376 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@372dc92e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a885aa1, org.springframework.security.web.context.SecurityContextHolderFilter@34bcdc9f, org.springframework.security.web.header.HeaderWriterFilter@57bebe03, org.springframework.web.filter.CorsFilter@2a9464d9, org.springframework.security.web.authentication.logout.LogoutFilter@834944, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7aeb7bd6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2aa143ba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c807e6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@455082d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21cb907d, org.springframework.security.web.session.SessionManagementFilter@221c097f, org.springframework.security.web.access.ExceptionTranslationFilter@7b9661d4, org.springframework.security.web.access.intercept.AuthorizationFilter@2394fad2]
2024-07-06T14:30:20.842+03:00  INFO 87376 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T14:30:21.223+03:00  INFO 87376 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 7.36 seconds (process running for 7.673)
2024-07-06T14:32:07.415+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T14:32:07.415+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T14:32:07.416+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T14:32:29.076+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=100.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3969cca5), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2d18a6ad), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2bc259b9), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7d8e9b57), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5543bf6d), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@12cf4c5c), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1fe95c63), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7df6f4fa), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36e79047), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7678ed62), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@599a76c1), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48821966), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3c259af8), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a2c03a9)])]
2024-07-06T14:32:29.377+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=107.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3969cca5), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2d18a6ad), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2bc259b9), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7d8e9b57), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5543bf6d), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@12cf4c5c), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1fe95c63), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7df6f4fa), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36e79047), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7678ed62), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@599a76c1), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48821966), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3c259af8), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a2c03a9)])

InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413)
2024-07-06T14:32:30.090+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=31, receivedBonusAtCycle=4, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.925534, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.667620, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.487606, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=121, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.580292, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=151, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.601466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=166, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=181, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.267627, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413)]
2024-07-06T14:32:31.388+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=31, receivedBonusAtCycle=4, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.925534, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.667620, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.487606, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=121, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.580292, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=151, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.601466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=166, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=181, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.267627, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413)]
2024-07-06T14:32:31.743+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-9] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=107.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=4, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3969cca5), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2d18a6ad), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2bc259b9), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7d8e9b57), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5543bf6d), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@12cf4c5c), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1fe95c63), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7df6f4fa), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36e79047), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7678ed62), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@599a76c1), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48821966), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3c259af8), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a2c03a9)])
2024-07-06T14:32:31.940+03:00  INFO 87376 --- [jwt-token-server] [http-nio-6028-exec-9] d.guarmo.whales.service.PurchaseService  : User that got 74% BONUS UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=107.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=4, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3969cca5), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2d18a6ad), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2bc259b9), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7d8e9b57), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5543bf6d), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@12cf4c5c), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1fe95c63), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7df6f4fa), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36e79047), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7678ed62), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@599a76c1), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48821966), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3c259af8), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a2c03a9)])

FROM UserCredentials(id=13, login=u9, role=USER, createdAt=2024-07-06T14:32:09.504924, name=Name 9, username=u9, balanceAmount=90.0, investModels=[InvestModel(id=181, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.267627, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36b94413), InvestModel(id=182, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.353060, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3969cca5), InvestModel(id=183, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.421409, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2d18a6ad), InvestModel(id=184, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.494539, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2bc259b9), InvestModel(id=185, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.564399, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7d8e9b57), InvestModel(id=186, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.632354, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@5543bf6d), InvestModel(id=187, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.702622, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@12cf4c5c), InvestModel(id=188, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.770549, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1fe95c63), InvestModel(id=189, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.838675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7df6f4fa), InvestModel(id=190, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.906101, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@36e79047), InvestModel(id=191, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.974967, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@7678ed62), InvestModel(id=192, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.046987, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@599a76c1), InvestModel(id=193, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.120566, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48821966), InvestModel(id=194, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.189642, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3c259af8), InvestModel(id=195, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.249008, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a2c03a9)])
2024-07-06T14:33:25.144+03:00  INFO 87376 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:33:25.146+03:00  INFO 87376 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T14:33:28.071+03:00  INFO 85524 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 85524 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T14:33:28.073+03:00  INFO 85524 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T14:33:28.463+03:00  INFO 85524 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T14:33:28.510+03:00  INFO 85524 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 9 JPA repository interfaces.
2024-07-06T14:33:28.822+03:00  INFO 85524 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T14:33:28.829+03:00  INFO 85524 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T14:33:28.829+03:00  INFO 85524 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T14:33:28.865+03:00  INFO 85524 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T14:33:28.866+03:00  INFO 85524 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 768 ms
2024-07-06T14:33:28.962+03:00  INFO 85524 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T14:33:28.989+03:00  INFO 85524 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T14:33:29.006+03:00  INFO 85524 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T14:33:29.163+03:00  INFO 85524 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T14:33:29.177+03:00  INFO 85524 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T14:33:30.005+03:00  INFO 85524 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4377ed24
2024-07-06T14:33:30.007+03:00  INFO 85524 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T14:33:30.184+03:00  WARN 85524 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T14:33:30.776+03:00  INFO 85524 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T14:33:33.892+03:00  INFO 85524 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T14:33:34.075+03:00  INFO 85524 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T14:33:34.460+03:00  WARN 85524 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T14:33:34.476+03:00  INFO 85524 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T14:33:34.648+03:00  INFO 85524 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@372dc92e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a885aa1, org.springframework.security.web.context.SecurityContextHolderFilter@34bcdc9f, org.springframework.security.web.header.HeaderWriterFilter@57bebe03, org.springframework.web.filter.CorsFilter@2a9464d9, org.springframework.security.web.authentication.logout.LogoutFilter@834944, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7aeb7bd6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2aa143ba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c807e6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@455082d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21cb907d, org.springframework.security.web.session.SessionManagementFilter@221c097f, org.springframework.security.web.access.ExceptionTranslationFilter@7b9661d4, org.springframework.security.web.access.intercept.AuthorizationFilter@2394fad2]
2024-07-06T14:33:34.844+03:00  INFO 85524 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T14:33:35.181+03:00  INFO 85524 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 7.324 seconds (process running for 7.645)
2024-07-06T14:33:40.043+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T14:33:40.043+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T14:33:40.044+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T14:34:03.039+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=103.89999999999999, investModels=[InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)]), UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=97.4, investModels=[InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)]), UserCredentials(id=8, login=u5, role=USER, createdAt=2024-07-06T13:16:39.877952, name=Name 5, username=u5, balanceAmount=90.0, investModels=[InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.487606, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.567462, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=108, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.649449, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=109, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.727074, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=110, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.809776, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=111, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.895818, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=112, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.973388, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=113, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.049634, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=114, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.125989, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=115, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.199057, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=116, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.280758, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=117, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.359519, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=118, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.432689, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=119, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.508265, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=120, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.589510, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)]), UserCredentials(id=9, login=u6, role=USER, createdAt=2024-07-06T13:32:07.832337, name=Name 6, username=u6, balanceAmount=90.0, investModels=[InvestModel(id=121, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.580292, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=122, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.655353, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=123, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.736603, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=124, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.808486, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=125, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.877834, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=126, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.949433, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=127, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.016656, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=128, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.088352, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=129, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.158721, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=130, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.227813, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=131, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.295667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=132, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.366182, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=133, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.434851, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=134, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.505374, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=135, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.575805, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)]), UserCredentials(id=11, login=u7, role=USER, createdAt=2024-07-06T14:11:29.864010, name=Name 7, username=u7, balanceAmount=90.0, investModels=[InvestModel(id=151, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.601466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=152, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.686004, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=153, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.756735, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=154, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.826180, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=155, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.893976, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=156, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.967786, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=157, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.042854, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=158, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.115029, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=159, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.186835, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=160, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.256744, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=161, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.323802, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=162, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.393864, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=163, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.467611, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=164, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.536034, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=165, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.609487, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)]), UserCredentials(id=12, login=u8, role=USER, createdAt=2024-07-06T14:23:49.814277, name=Name 8, username=u8, balanceAmount=90.0, investModels=[InvestModel(id=166, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=167, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.493021, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=168, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.556237, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=169, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.634809, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=170, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.714317, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=171, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.793049, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=172, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.861652, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=173, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.933466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=174, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.013403, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=175, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.093134, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=176, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.174003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=177, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.256003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=178, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.332226, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=179, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.412379, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=180, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.493659, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)]), UserCredentials(id=13, login=u9, role=USER, createdAt=2024-07-06T14:32:09.504924, name=Name 9, username=u9, balanceAmount=90.0, investModels=[InvestModel(id=181, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.267627, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=182, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.353060, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=183, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.421409, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=184, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.494539, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=185, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.564399, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=186, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.632354, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=187, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.702622, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=188, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.770549, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=189, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.838675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=190, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.906101, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=191, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.974967, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=192, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.046987, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=193, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.120566, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=194, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.189642, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=195, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.249008, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)])]
2024-07-06T14:34:03.302+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=12, login=u8, role=USER, createdAt=2024-07-06T14:23:49.814277, name=Name 8, username=u8, balanceAmount=97.4, investModels=[InvestModel(id=166, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=167, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.493021, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=168, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.556237, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=169, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.634809, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=170, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.714317, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=171, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.793049, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=172, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.861652, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=173, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.933466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=174, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.013403, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=175, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.093134, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=176, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.174003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=177, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.256003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=178, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.332226, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=179, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.412379, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=180, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.493659, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)])

InvestModel(id=166, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2)
2024-07-06T14:34:03.978+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=12, login=u8, role=USER, createdAt=2024-07-06T14:23:49.814277, name=Name 8, username=u8, balanceAmount=97.4, investModels=[InvestModel(id=166, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T14:23:48.388318, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=167, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.493021, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=168, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.556237, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=169, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.634809, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=170, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.714317, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=171, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.793049, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=172, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.861652, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=173, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.933466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=174, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.013403, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=175, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.093134, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=176, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.174003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=177, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.256003, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=178, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.332226, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=179, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.412379, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=180, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:23:49.493659, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)])
2024-07-06T14:34:04.198+03:00  INFO 85524 --- [jwt-token-server] [http-nio-6028-exec-3] d.guarmo.whales.service.PurchaseService  : FROM UserCredentials(id=14, login=u10, role=USER, createdAt=2024-07-06T14:33:42.168045, name=Name 10, username=u10, balanceAmount=90.0, investModels=[InvestModel(id=196, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:33:40.900454, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6bf883a2), InvestModel(id=197, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:33:40.978366, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6b801da1), InvestModel(id=198, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.054821, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@212cd470), InvestModel(id=199, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.130581, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69ae03a5), InvestModel(id=200, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.211669, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1527eebf), InvestModel(id=201, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.281385, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d3ed718), InvestModel(id=202, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.360381, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4c7c881f), InvestModel(id=203, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.429434, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@18b5e28), InvestModel(id=204, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.498876, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@69586d49), InvestModel(id=205, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.567798, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3e80adc1), InvestModel(id=206, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.638968, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@34bc6b67), InvestModel(id=207, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.710715, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@6409fb71), InvestModel(id=208, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.780264, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@ede1521), InvestModel(id=209, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.848755, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1f1eeb41), InvestModel(id=210, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:33:41.910316, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@4d84d12d)])
2024-07-06T15:17:20.247+03:00  INFO 24264 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 24264 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T15:17:20.248+03:00  INFO 24264 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T15:17:21.392+03:00  INFO 24264 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T15:17:21.441+03:00  INFO 24264 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 9 JPA repository interfaces.
2024-07-06T15:17:21.827+03:00  INFO 24264 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T15:17:21.836+03:00  INFO 24264 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T15:17:21.836+03:00  INFO 24264 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T15:17:21.897+03:00  INFO 24264 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T15:17:21.898+03:00  INFO 24264 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1625 ms
2024-07-06T15:17:22.009+03:00  INFO 24264 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T15:17:22.037+03:00  INFO 24264 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T15:17:22.066+03:00  INFO 24264 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T15:17:22.237+03:00  INFO 24264 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T15:17:22.257+03:00  INFO 24264 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T15:17:25.062+03:00  INFO 24264 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77020328
2024-07-06T15:17:25.064+03:00  INFO 24264 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T15:17:25.397+03:00  WARN 24264 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T15:17:26.666+03:00  INFO 24264 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T15:17:34.468+03:00  INFO 24264 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:17:34.649+03:00  INFO 24264 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T15:17:35.186+03:00  WARN 24264 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T15:17:35.206+03:00  INFO 24264 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T15:17:35.630+03:00  INFO 24264 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@249f95a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f36ba0f, org.springframework.security.web.context.SecurityContextHolderFilter@6be93728, org.springframework.security.web.header.HeaderWriterFilter@757501da, org.springframework.web.filter.CorsFilter@70c741be, org.springframework.security.web.authentication.logout.LogoutFilter@70201785, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@635791b7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@446d7669, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a177f2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2338c3f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@611d867, org.springframework.security.web.session.SessionManagementFilter@796affb8, org.springframework.security.web.access.ExceptionTranslationFilter@6042b613, org.springframework.security.web.access.intercept.AuthorizationFilter@23ac3788]
2024-07-06T15:17:35.961+03:00  INFO 24264 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T15:17:37.537+03:00  INFO 24264 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 17.515 seconds (process running for 23.66)
2024-07-06T15:17:39.803+03:00  INFO 24264 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T15:17:39.803+03:00  INFO 24264 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T15:17:39.804+03:00  INFO 24264 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T15:28:49.691+03:00  INFO 24264 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:28:49.693+03:00  INFO 24264 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T15:28:50.958+03:00  INFO 24264 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T15:34:29.661+03:00  INFO 23296 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 23296 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T15:34:29.661+03:00  INFO 23296 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T15:34:30.509+03:00  INFO 23296 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T15:34:30.552+03:00  INFO 23296 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 9 JPA repository interfaces.
2024-07-06T15:34:30.834+03:00  INFO 23296 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T15:34:30.839+03:00  INFO 23296 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T15:34:30.839+03:00  INFO 23296 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T15:34:30.871+03:00  INFO 23296 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T15:34:30.871+03:00  INFO 23296 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1186 ms
2024-07-06T15:34:30.956+03:00  INFO 23296 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T15:34:30.981+03:00  INFO 23296 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T15:34:30.997+03:00  INFO 23296 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T15:34:31.164+03:00  INFO 23296 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T15:34:31.177+03:00  INFO 23296 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T15:34:32.848+03:00  INFO 23296 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42dd7d82
2024-07-06T15:34:32.850+03:00  INFO 23296 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T15:34:33.203+03:00  WARN 23296 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T15:34:33.753+03:00  INFO 23296 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T15:34:43.487+03:00  INFO 23296 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:34:43.625+03:00  INFO 23296 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T15:34:44.026+03:00  WARN 23296 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T15:34:44.039+03:00  INFO 23296 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T15:34:44.207+03:00  INFO 23296 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38fc1904, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7625bfbd, org.springframework.security.web.context.SecurityContextHolderFilter@66373f77, org.springframework.security.web.header.HeaderWriterFilter@7ba0c0e5, org.springframework.web.filter.CorsFilter@3bc2146c, org.springframework.security.web.authentication.logout.LogoutFilter@f2bec99, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2caf6813, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fd65f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f014f27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70201785, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@717c00f9, org.springframework.security.web.session.SessionManagementFilter@6050d04d, org.springframework.security.web.access.ExceptionTranslationFilter@5435582e, org.springframework.security.web.access.intercept.AuthorizationFilter@446d7669]
2024-07-06T15:34:44.388+03:00  INFO 23296 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T15:34:45.038+03:00  INFO 23296 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 15.572 seconds (process running for 16.459)
2024-07-06T15:41:14.911+03:00  INFO 23296 --- [jwt-token-server] [http-nio-6028-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T15:41:14.911+03:00  INFO 23296 --- [jwt-token-server] [http-nio-6028-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T15:41:14.912+03:00  INFO 23296 --- [jwt-token-server] [http-nio-6028-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T15:42:02.443+03:00  INFO 23296 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=105.19999999999999, investModels=[InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)]), UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=97.4, investModels=[InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)]), UserCredentials(id=8, login=u5, role=USER, createdAt=2024-07-06T13:16:39.877952, name=Name 5, username=u5, balanceAmount=90.0, investModels=[InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.487606, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.567462, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=108, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.649449, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=109, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.727074, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=110, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.809776, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=111, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.895818, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=112, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.973388, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=113, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.049634, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=114, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.125989, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=115, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.199057, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=116, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.280758, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=117, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.359519, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=118, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.432689, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=119, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.508265, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=120, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:39.589510, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)]), UserCredentials(id=9, login=u6, role=USER, createdAt=2024-07-06T13:32:07.832337, name=Name 6, username=u6, balanceAmount=90.0, investModels=[InvestModel(id=121, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.580292, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=122, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.655353, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=123, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.736603, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=124, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.808486, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=125, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.877834, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=126, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.949433, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=127, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.016656, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=128, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.088352, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=129, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.158721, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=130, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.227813, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=131, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.295667, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=132, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.366182, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=133, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.434851, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=134, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.505374, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=135, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:32:07.575805, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)]), UserCredentials(id=11, login=u7, role=USER, createdAt=2024-07-06T14:11:29.864010, name=Name 7, username=u7, balanceAmount=90.0, investModels=[InvestModel(id=151, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.601466, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=152, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.686004, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=153, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.756735, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=154, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.826180, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=155, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.893976, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=156, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.967786, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=157, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.042854, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=158, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.115029, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=159, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.186835, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=160, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.256744, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=161, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.323802, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=162, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.393864, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=163, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.467611, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=164, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.536034, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=165, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:11:29.609487, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)]), UserCredentials(id=13, login=u9, role=USER, createdAt=2024-07-06T14:32:09.504924, name=Name 9, username=u9, balanceAmount=90.0, investModels=[InvestModel(id=181, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.267627, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=182, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.353060, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=183, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.421409, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=184, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.494539, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=185, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.564399, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=186, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.632354, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=187, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.702622, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=188, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.770549, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=189, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.838675, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=190, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.906101, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=191, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.974967, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=192, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.046987, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=193, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.120566, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=194, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.189642, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=195, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T14:32:09.249008, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)])]
2024-07-06T15:42:02.921+03:00  INFO 23296 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=104.80000000000001, investModels=[InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)])

InvestModel(id=91, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d)
2024-07-06T15:42:04.361+03:00  INFO 23296 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=7, login=u4, role=USER, createdAt=2024-07-06T13:16:31.567010, name=Name 4, username=u4, balanceAmount=104.80000000000001, investModels=[InvestModel(id=91, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T13:16:30.213934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1653819d), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@da5e151), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.366558, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@708c20be), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.439275, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@73771d8), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.513494, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@248c3ef2), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.586934, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@685903dd), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.671916, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@3bec48ff), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.757783, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@2feade83), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.839477, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1c3343aa), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.916714, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@1a753e6), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.989536, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48039cdb), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.065253, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@f99712a), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.140203, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@48552ced), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.215513, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@699f36b5), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T13:16:31.290282, details=dev.guarmo.whales.model.investmodel.InvestModelsDetails@30e72a19)])
2024-07-06T15:49:01.768+03:00  INFO 23296 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:49:01.770+03:00  INFO 23296 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T15:49:05.245+03:00  INFO 11380 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 11380 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T15:49:05.247+03:00  INFO 11380 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T15:49:05.621+03:00  INFO 11380 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T15:49:05.665+03:00  INFO 11380 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 9 JPA repository interfaces.
2024-07-06T15:49:05.963+03:00  INFO 11380 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T15:49:05.969+03:00  INFO 11380 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T15:49:05.969+03:00  INFO 11380 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T15:49:06.006+03:00  INFO 11380 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T15:49:06.007+03:00  INFO 11380 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 738 ms
2024-07-06T15:49:06.094+03:00  INFO 11380 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T15:49:06.117+03:00  INFO 11380 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T15:49:06.133+03:00  INFO 11380 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T15:49:06.295+03:00  INFO 11380 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T15:49:06.307+03:00  INFO 11380 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T15:49:07.678+03:00  INFO 11380 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2838eb
2024-07-06T15:49:07.681+03:00  INFO 11380 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T15:49:07.943+03:00  WARN 11380 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T15:49:08.505+03:00  INFO 11380 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T15:49:14.304+03:00  INFO 11380 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:49:14.472+03:00  INFO 11380 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T15:49:14.828+03:00  WARN 11380 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T15:49:14.841+03:00  INFO 11380 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T15:49:15.007+03:00  INFO 11380 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7625bfbd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bc2146c, org.springframework.security.web.context.SecurityContextHolderFilter@834944, org.springframework.security.web.header.HeaderWriterFilter@1ee2e363, org.springframework.web.filter.CorsFilter@717c00f9, org.springframework.security.web.authentication.logout.LogoutFilter@5f324d9f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@434896b0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f48a79a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@185b998d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24c04958, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@299003eb, org.springframework.security.web.session.SessionManagementFilter@6231bb88, org.springframework.security.web.access.ExceptionTranslationFilter@56daf3b1, org.springframework.security.web.access.intercept.AuthorizationFilter@e1f17e6]
2024-07-06T15:49:15.188+03:00  INFO 11380 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T15:49:15.969+03:00  INFO 11380 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 10.919 seconds (process running for 11.209)
2024-07-06T15:53:34.648+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T15:53:34.648+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T15:53:34.649+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T15:55:24.444+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-4] d.guarmo.whales.service.PurchaseService  : Purchase of UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=800.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253)]) that causes income:

Purchase: dev.guarmo.whales.model.transaction.purchase.Purchase@a2c79e
2024-07-06T15:55:40.258+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : List LEVEL_2 []
2024-07-06T15:55:40.876+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=1200.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504)])

InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397)
2024-07-06T15:55:44.447+03:00  INFO 11380 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=1200.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799), InvestModel(id=2, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.780397), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504)])
2024-07-06T15:56:16.791+03:00  INFO 11380 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:56:16.792+03:00  INFO 11380 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T15:56:19.848+03:00  INFO 25904 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 25904 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T15:56:19.850+03:00  INFO 25904 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T15:56:20.223+03:00  INFO 25904 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T15:56:20.269+03:00  INFO 25904 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 9 JPA repository interfaces.
2024-07-06T15:56:20.568+03:00  INFO 25904 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T15:56:20.576+03:00  INFO 25904 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T15:56:20.576+03:00  INFO 25904 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T15:56:20.611+03:00  INFO 25904 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T15:56:20.612+03:00  INFO 25904 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 740 ms
2024-07-06T15:56:20.707+03:00  INFO 25904 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T15:56:20.733+03:00  INFO 25904 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T15:56:20.749+03:00  INFO 25904 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T15:56:20.937+03:00  INFO 25904 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T15:56:20.957+03:00  INFO 25904 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T15:56:22.314+03:00  INFO 25904 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42dd7d82
2024-07-06T15:56:22.319+03:00  INFO 25904 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T15:56:22.644+03:00  WARN 25904 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T15:56:23.276+03:00  INFO 25904 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T15:56:28.827+03:00  INFO 25904 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T15:56:28.988+03:00  INFO 25904 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T15:56:29.346+03:00  WARN 25904 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T15:56:29.359+03:00  INFO 25904 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T15:56:29.528+03:00  INFO 25904 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fd65f9a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f48a79a, org.springframework.security.web.context.SecurityContextHolderFilter@6231bb88, org.springframework.security.web.header.HeaderWriterFilter@5435582e, org.springframework.web.filter.CorsFilter@38fc1904, org.springframework.security.web.authentication.logout.LogoutFilter@635791b7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a0afe5b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ca574db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66373f77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d97a1a0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7625bfbd, org.springframework.security.web.session.SessionManagementFilter@5d71813b, org.springframework.security.web.access.ExceptionTranslationFilter@2e6066e1, org.springframework.security.web.access.intercept.AuthorizationFilter@3063493e]
2024-07-06T15:56:29.705+03:00  INFO 25904 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T15:56:30.085+03:00  INFO 25904 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 10.431 seconds (process running for 10.724)
2024-07-06T15:57:26.273+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T15:57:26.273+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T15:57:26.275+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T15:57:35.080+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-4] d.guarmo.whales.service.PurchaseService  : Purchase of UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=800.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=4, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_2)
2024-07-06T15:57:48.486+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : List LEVEL_2 []
2024-07-06T15:57:49.094+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=1374.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799), InvestModel(id=2, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.780397), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504)])

InvestModel(id=2, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.780397)
2024-07-06T15:57:49.984+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_2 after cycle is finished

[InvestModel(id=2, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T11:56:14.780397), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.939838), InvestModel(id=77, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.669215), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.567462), InvestModel(id=122, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.655353), InvestModel(id=152, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.686004), InvestModel(id=167, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.493021), InvestModel(id=182, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.353060), InvestModel(id=197, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:33:40.978366), InvestModel(id=212, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T15:41:16.508775)]
2024-07-06T15:57:53.827+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_2 after cycle is finished

[InvestModel(id=2, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:45:27.939838), InvestModel(id=77, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T09:46:33.669215), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:30.291582), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:16:38.567462), InvestModel(id=122, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T13:32:06.655353), InvestModel(id=152, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:11:28.686004), InvestModel(id=167, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:23:48.493021), InvestModel(id=182, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:32:08.353060), InvestModel(id=197, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T14:33:40.978366), InvestModel(id=212, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T15:41:16.508775)]
2024-07-06T15:57:54.389+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T11:56:16.202308, name=Owner, username=7140272637, balanceAmount=1374.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.669799), InvestModel(id=2, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.780397), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.866052), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:14.951284), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.037654), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.123214), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.210843), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.295546), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.372794), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.453011), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.540930), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.630027), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.712746), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.789930), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:15.864504)])
2024-07-06T15:59:17.342+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-10] d.guarmo.whales.service.PurchaseService  : Purchase of UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T11:56:46.642768, name=Name 3, username=u3, balanceAmount=800.0, investModels=[InvestModel(id=46, receivedBonusAtCycle=3, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.240837), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.328165), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.406658), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.481932), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.570331), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.648932), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.728582), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.810936), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.888667), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:45.962870), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.043532), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.118545), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.198954), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.273681), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:46.359912)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_2)
2024-07-06T15:59:32.979+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.ReferralBonusService  : List LEVEL_2 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=852.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T11:56:41.273234, name=Name 2, username=u2, balanceAmount=800.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=4, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.825964), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.909014), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:39.986416), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.066794), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.147124), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.232248), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.312575), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.388990), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.468900), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.556704), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.634997), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.714708), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.788281), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.874907), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:40.962675)])]
2024-07-06T15:59:33.598+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=1000.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253)])

InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.096482)
2024-07-06T15:59:36.345+03:00  INFO 25904 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T11:56:32.492357, name=Name 1, username=u1, balanceAmount=1000.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.014753), InvestModel(id=17, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T11:56:31.096482), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.182202), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.260817), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.349621), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.434567), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.521849), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.609965), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.696726), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.783014), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.868756), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T11:56:31.946502), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.026779), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.102020), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T11:56:32.190253)])
2024-07-06T16:04:46.033+03:00  INFO 25904 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T16:04:46.034+03:00  INFO 25904 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T16:04:49.455+03:00  INFO 25648 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 25648 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T16:04:49.456+03:00  INFO 25648 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T16:04:49.815+03:00  INFO 25648 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T16:04:49.859+03:00  INFO 25648 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2024-07-06T16:04:50.169+03:00  INFO 25648 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T16:04:50.175+03:00  INFO 25648 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T16:04:50.175+03:00  INFO 25648 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T16:04:50.210+03:00  INFO 25648 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T16:04:50.210+03:00  INFO 25648 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 732 ms
2024-07-06T16:04:50.308+03:00  INFO 25648 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T16:04:50.335+03:00  INFO 25648 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T16:04:50.354+03:00  INFO 25648 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T16:04:50.520+03:00  INFO 25648 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T16:04:50.533+03:00  INFO 25648 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T16:04:51.974+03:00  INFO 25648 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42dd7d82
2024-07-06T16:04:51.975+03:00  INFO 25648 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T16:04:52.251+03:00  WARN 25648 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T16:04:52.956+03:00  INFO 25648 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T16:04:58.585+03:00  INFO 25648 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T16:04:58.854+03:00  INFO 25648 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T16:04:59.426+03:00  WARN 25648 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T16:04:59.455+03:00  INFO 25648 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T16:04:59.729+03:00  INFO 25648 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fd65f9a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f48a79a, org.springframework.security.web.context.SecurityContextHolderFilter@6231bb88, org.springframework.security.web.header.HeaderWriterFilter@5435582e, org.springframework.web.filter.CorsFilter@38fc1904, org.springframework.security.web.authentication.logout.LogoutFilter@635791b7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a0afe5b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ca574db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66373f77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d97a1a0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7625bfbd, org.springframework.security.web.session.SessionManagementFilter@5d71813b, org.springframework.security.web.access.ExceptionTranslationFilter@2e6066e1, org.springframework.security.web.access.intercept.AuthorizationFilter@3063493e]
2024-07-06T16:05:00.062+03:00  INFO 25648 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T16:05:00.533+03:00  INFO 25648 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 11.277 seconds (process running for 11.557)
2024-07-06T16:06:48.101+03:00  INFO 25648 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T16:06:48.102+03:00  INFO 25648 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T16:06:50.130+03:00  INFO 2392 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 2392 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T16:06:50.132+03:00  INFO 2392 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T16:06:50.484+03:00  INFO 2392 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T16:06:50.525+03:00  INFO 2392 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 9 JPA repository interfaces.
2024-07-06T16:06:50.820+03:00  INFO 2392 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T16:06:50.826+03:00  INFO 2392 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T16:06:50.826+03:00  INFO 2392 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T16:06:50.859+03:00  INFO 2392 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T16:06:50.860+03:00  INFO 2392 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 699 ms
2024-07-06T16:06:50.943+03:00  INFO 2392 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T16:06:50.965+03:00  INFO 2392 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T16:06:50.980+03:00  INFO 2392 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T16:06:51.143+03:00  INFO 2392 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T16:06:51.155+03:00  INFO 2392 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T16:06:53.364+03:00  INFO 2392 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4377ed24
2024-07-06T16:06:53.365+03:00  INFO 2392 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T16:06:53.634+03:00  WARN 2392 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T16:06:54.300+03:00  INFO 2392 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T16:07:07.192+03:00  INFO 2392 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T16:07:07.374+03:00  INFO 2392 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T16:07:07.845+03:00  WARN 2392 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T16:07:07.857+03:00  INFO 2392 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T16:07:08.040+03:00  INFO 2392 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70c741be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@611d867, org.springframework.security.web.context.SecurityContextHolderFilter@1a177f2c, org.springframework.security.web.header.HeaderWriterFilter@5e1d6ace, org.springframework.web.filter.CorsFilter@5efb7f82, org.springframework.security.web.authentication.logout.LogoutFilter@649a76c1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@f2bec99, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@249f95a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e70d072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56daf3b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34775090, org.springframework.security.web.session.SessionManagementFilter@784dd9da, org.springframework.security.web.access.ExceptionTranslationFilter@757501da, org.springframework.security.web.access.intercept.AuthorizationFilter@1d77762f]
2024-07-06T16:07:08.249+03:00  INFO 2392 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T16:07:08.933+03:00  INFO 2392 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 18.998 seconds (process running for 19.29)
2024-07-06T16:07:39.176+03:00  INFO 2392 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T16:07:39.176+03:00  INFO 2392 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T16:07:39.177+03:00  INFO 2392 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-07-06T16:07:44.987+03:00 ERROR 2392 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null] with root cause

java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null
	at dev.guarmo.whales.service.UserService.addUser(UserService.java:47) ~[classes/:na]
	at dev.guarmo.whales.controller.AuthController.addUser(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T16:55:31.463+03:00  INFO 2392 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Read timed out

java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:288) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:314) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T16:56:02.838+03:00  WARN 2392 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=25m8s934ms148µs600ns).
2024-07-06T16:56:11.420+03:00  WARN 2392 --- [jwt-token-server] [http-nio-6028-exec-1] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@20a4aa99 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T16:56:16.703+03:00  INFO 2392 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T16:56:16.707+03:00  INFO 2392 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T16:56:18.781+03:00  INFO 31508 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 31508 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T16:56:18.782+03:00  INFO 31508 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T16:56:19.204+03:00  INFO 31508 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T16:56:19.250+03:00  INFO 31508 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 9 JPA repository interfaces.
2024-07-06T16:56:19.567+03:00  INFO 31508 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T16:56:19.570+03:00  INFO 31508 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T16:56:19.570+03:00  INFO 31508 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T16:56:19.620+03:00  INFO 31508 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T16:56:19.620+03:00  INFO 31508 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 808 ms
2024-07-06T16:56:19.717+03:00  INFO 31508 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T16:56:19.760+03:00  INFO 31508 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T16:56:19.781+03:00  INFO 31508 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T16:56:19.972+03:00  INFO 31508 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T16:56:19.990+03:00  INFO 31508 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T16:56:30.301+03:00  INFO 31508 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b339a08
2024-07-06T16:56:30.303+03:00  INFO 31508 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T16:56:30.676+03:00  WARN 31508 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T16:56:31.295+03:00  INFO 31508 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T16:56:37.182+03:00  INFO 31508 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T16:56:37.354+03:00  INFO 31508 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T16:56:37.712+03:00  WARN 31508 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T16:56:37.725+03:00  INFO 31508 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T16:56:37.890+03:00  INFO 31508 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5572be5a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@124ba047, org.springframework.security.web.context.SecurityContextHolderFilter@2574123a, org.springframework.security.web.header.HeaderWriterFilter@6f77917c, org.springframework.web.filter.CorsFilter@700b9a54, org.springframework.security.web.authentication.logout.LogoutFilter@dc9033f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5efb7f82, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42f40ad0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c05ccdb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f014f27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c658163, org.springframework.security.web.session.SessionManagementFilter@1cf45f46, org.springframework.security.web.access.ExceptionTranslationFilter@c82f6bd, org.springframework.security.web.access.intercept.AuthorizationFilter@7abe3d53]
2024-07-06T16:56:38.070+03:00  INFO 31508 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T16:56:38.444+03:00  INFO 31508 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 19.887 seconds (process running for 20.271)
2024-07-06T16:56:54.472+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T16:56:54.472+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T16:56:54.473+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T16:57:52.463+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=90.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T16:57:58.106+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T16:57:58.702+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T16:07:42.683136, name=Owner, username=7140272637, balanceAmount=110.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.573622), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.690292), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.803), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.929894), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.046368), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.176068), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.299586), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.426235), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.554017), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.668024), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.808294), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.928698), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.041725), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.163468)])

InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.422074)
2024-07-06T16:58:00.124+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T16:07:42.683136, name=Owner, username=7140272637, balanceAmount=110.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.573622), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.690292), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.803), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.929894), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.046368), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.176068), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.299586), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.426235), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.554017), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.668024), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.808294), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.928698), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.041725), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.163468)])
2024-07-06T17:02:31.822+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-5] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=90.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T17:02:39.108+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T17:02:39.722+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T16:07:42.683136, name=Owner, username=7140272637, balanceAmount=118.7, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.573622), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.690292), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.803), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.929894), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.046368), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.176068), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.299586), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.426235), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.554017), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.668024), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.808294), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.928698), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.041725), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.163468)])

InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T16:07:40.422074)
2024-07-06T17:02:40.661+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080)]
2024-07-06T17:02:42.660+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080)]
2024-07-06T17:02:43.301+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T16:07:42.683136, name=Owner, username=7140272637, balanceAmount=118.7, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.573622), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.690292), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.803), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.929894), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.046368), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.176068), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.299586), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.426235), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.554017), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.668024), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.808294), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:41.928698), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.041725), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:42.163468)])
2024-07-06T17:03:13.276+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-4] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T16:08:38.366543, name=Name 3, username=u3, balanceAmount=90.0, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.288720), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.407836), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.534877), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.655725), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.776232), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.882043), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.014431), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.145065), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.260686), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.387861), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.501630), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.628163), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.747713), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.862989)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T17:03:20.670+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=92.6, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=90.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)])]
2024-07-06T17:03:21.137+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=97.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)])

InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911)
2024-07-06T17:03:22.205+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=97.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)])
2024-07-06T17:06:18.815+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=5, login=u4, role=USER, createdAt=2024-07-06T17:05:21.413800, name=Name 4, username=u4, balanceAmount=90.0, investModels=[InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.172565), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.294722), InvestModel(id=63, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.421473), InvestModel(id=64, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.537321), InvestModel(id=65, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.652632), InvestModel(id=66, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.794907), InvestModel(id=67, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.913367), InvestModel(id=68, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.030304), InvestModel(id=69, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.147491), InvestModel(id=70, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.275374), InvestModel(id=71, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.402627), InvestModel(id=72, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.546459), InvestModel(id=73, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.675653), InvestModel(id=74, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.791649), InvestModel(id=75, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.934671)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T17:06:35.532+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=93.39999999999999, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)])]
2024-07-06T17:06:36.015+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=100.8, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)])

InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133)
2024-07-06T17:06:37.410+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.172565), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:33.812881)]
2024-07-06T17:06:39.153+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T16:07:40.422074), InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.172565), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:33.812881)]
2024-07-06T17:06:39.656+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=100.8, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)])
2024-07-06T17:09:26.911+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-2] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=6, login=u5, role=USER, createdAt=2024-07-06T17:05:35.978509, name=Name 5, username=u5, balanceAmount=90.0, investModels=[InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:05:33.812881), InvestModel(id=77, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:33.937617), InvestModel(id=78, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.053545), InvestModel(id=79, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.171610), InvestModel(id=80, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.291974), InvestModel(id=81, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.408056), InvestModel(id=82, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.536351), InvestModel(id=83, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.655105), InvestModel(id=84, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.766962), InvestModel(id=85, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:34.890731), InvestModel(id=86, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:35.012380), InvestModel(id=87, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:35.126590), InvestModel(id=88, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:35.255544), InvestModel(id=89, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:35.375704), InvestModel(id=90, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:35.486995)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T17:09:51.380+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=101.6, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=100.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T16:08:38.366543, name=Name 3, username=u3, balanceAmount=90.0, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.288720), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.407836), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.534877), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.655725), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.776232), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.882043), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.014431), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.145065), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.260686), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.387861), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.501630), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.628163), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.747713), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.862989)]), UserCredentials(id=5, login=u4, role=USER, createdAt=2024-07-06T17:05:21.413800, name=Name 4, username=u4, balanceAmount=90.0, investModels=[InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.172565), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.294722), InvestModel(id=63, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.421473), InvestModel(id=64, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.537321), InvestModel(id=65, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.652632), InvestModel(id=66, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.794907), InvestModel(id=67, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.913367), InvestModel(id=68, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.030304), InvestModel(id=69, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.147491), InvestModel(id=70, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.275374), InvestModel(id=71, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.402627), InvestModel(id=72, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.546459), InvestModel(id=73, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.675653), InvestModel(id=74, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.791649), InvestModel(id=75, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.934671)])]
2024-07-06T17:09:52.305+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=107.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)])

InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.102911)
2024-07-06T17:10:10.407+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T16:08:06.452936, name=Name 2, username=u2, balanceAmount=107.4, investModels=[InvestModel(id=31, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T16:08:04.102911), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.243888), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.370540), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.498413), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.620617), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.764377), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:04.889641), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.010272), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.125669), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.240435), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.357017), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.481809), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.602916), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.727937), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:05.843813)])
2024-07-06T17:16:58.730+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=7, login=u6, role=USER, createdAt=2024-07-06T17:11:54.137555, name=Name 6, username=u6, balanceAmount=90.0, investModels=[InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:11:51.821486), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:11:51.957851), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.080556), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.213922), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.333666), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.470337), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.598521), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.723397), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:52.874500), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:53.014023), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:53.126903), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:11:53.264767), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:11:53.373384), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:11:53.509796), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:11:53.630600)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T17:17:07.022+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=102.39999999999999, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T16:08:38.366543, name=Name 3, username=u3, balanceAmount=91.3, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.167080), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.288720), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.407836), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.534877), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.655725), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.776232), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:36.882043), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.014431), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.145065), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.260686), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.387861), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.501630), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.628163), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.747713), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:08:37.862989)]), UserCredentials(id=5, login=u4, role=USER, createdAt=2024-07-06T17:05:21.413800, name=Name 4, username=u4, balanceAmount=90.0, investModels=[InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.172565), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.294722), InvestModel(id=63, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.421473), InvestModel(id=64, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.537321), InvestModel(id=65, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.652632), InvestModel(id=66, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.794907), InvestModel(id=67, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:19.913367), InvestModel(id=68, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.030304), InvestModel(id=69, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.147491), InvestModel(id=70, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.275374), InvestModel(id=71, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.402627), InvestModel(id=72, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.546459), InvestModel(id=73, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.675653), InvestModel(id=74, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.791649), InvestModel(id=75, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T17:05:20.934671)])]
2024-07-06T17:17:07.523+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=109.8, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)])

InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.497133)
2024-07-06T17:17:09.600+03:00  INFO 31508 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T16:07:56.807956, name=Name 1, username=u1, balanceAmount=109.8, investModels=[InvestModel(id=16, receivedBonusAtCycle=2, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T16:07:54.497133), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.622728), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.759066), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:54.896506), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.008298), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.127117), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.258452), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.396362), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.503859), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.634572), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.743252), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T16:07:55.889162), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.016170), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.186534), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T16:07:56.316171)])
2024-07-06T17:37:57.256+03:00  INFO 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Read timed out

java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:288) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:314) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:37:57.773+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:37:58.364+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:37:58.969+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:00.057+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:01.716+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:04.277+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:08.200+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:15.130+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:31.910+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:41.123+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : api.telegram.org

java.net.UnknownHostException: api.telegram.org
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:38:54.763+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:39:37.562+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:40:14.528+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:41:26.194+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:42:24.809+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:45:29.972+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:48:33.750+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T17:55:05.706+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T18:03:20.299+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T18:11:26.453+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T18:32:45.723+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T18:45:09.318+03:00 ERROR 31508 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T19:32:55.052+03:00  WARN 31508 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m52s315ms624µs).
2024-07-06T19:34:10.313+03:00  INFO 31508 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T19:34:10.315+03:00  INFO 31508 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T19:52:50.225+03:00  INFO 28732 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 28732 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T19:52:50.227+03:00  INFO 28732 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T19:53:30.314+03:00  INFO 36548 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 36548 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T19:53:30.317+03:00  INFO 36548 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T19:53:31.421+03:00  INFO 36548 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T19:53:31.566+03:00  INFO 36548 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 9 JPA repository interfaces.
2024-07-06T19:53:32.504+03:00  INFO 36548 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T19:53:32.528+03:00  INFO 36548 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T19:53:32.529+03:00  INFO 36548 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T19:53:32.639+03:00  INFO 36548 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T19:53:32.639+03:00  INFO 36548 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2266 ms
2024-07-06T19:53:32.928+03:00  INFO 36548 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T19:53:33.042+03:00  INFO 36548 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T19:53:33.091+03:00  INFO 36548 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T19:53:33.550+03:00  INFO 36548 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T19:53:33.587+03:00  INFO 36548 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T19:53:34.730+03:00  INFO 36548 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77020328
2024-07-06T19:53:34.735+03:00  INFO 36548 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T19:53:34.942+03:00  WARN 36548 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T19:53:36.836+03:00  INFO 36548 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T19:53:43.678+03:00  INFO 36548 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T19:53:44.274+03:00  INFO 36548 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T19:53:46.910+03:00  WARN 36548 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T19:53:46.998+03:00  INFO 36548 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T19:53:47.586+03:00  INFO 36548 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@249f95a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f36ba0f, org.springframework.security.web.context.SecurityContextHolderFilter@6be93728, org.springframework.security.web.header.HeaderWriterFilter@757501da, org.springframework.web.filter.CorsFilter@70c741be, org.springframework.security.web.authentication.logout.LogoutFilter@70201785, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@635791b7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@446d7669, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a177f2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2338c3f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@611d867, org.springframework.security.web.session.SessionManagementFilter@796affb8, org.springframework.security.web.access.ExceptionTranslationFilter@6042b613, org.springframework.security.web.access.intercept.AuthorizationFilter@23ac3788]
2024-07-06T19:53:47.947+03:00  INFO 36548 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T19:53:48.373+03:00  INFO 36548 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 18.485 seconds (process running for 19.12)
2024-07-06T19:53:55.582+03:00  INFO 36548 --- [jwt-token-server] [http-nio-6028-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T19:53:55.583+03:00  INFO 36548 --- [jwt-token-server] [http-nio-6028-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T19:53:55.585+03:00  INFO 36548 --- [jwt-token-server] [http-nio-6028-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-06T19:53:58.833+03:00 ERROR 36548 --- [jwt-token-server] [http-nio-6028-exec-4] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null] with root cause

java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null
	at dev.guarmo.whales.service.UserService.addUser(UserService.java:47) ~[classes/:na]
	at dev.guarmo.whales.controller.AuthController.addUser(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T20:05:10.509+03:00  INFO 36548 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T20:05:10.512+03:00  INFO 36548 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T20:05:17.615+03:00  INFO 14212 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 14212 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T20:05:17.618+03:00  INFO 14212 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T20:05:18.545+03:00  INFO 14212 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T20:05:18.699+03:00  INFO 14212 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 9 JPA repository interfaces.
2024-07-06T20:05:19.619+03:00  INFO 14212 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T20:05:19.632+03:00  INFO 14212 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T20:05:19.632+03:00  INFO 14212 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T20:05:19.756+03:00  INFO 14212 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T20:05:19.757+03:00  INFO 14212 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2096 ms
2024-07-06T20:05:19.979+03:00  INFO 14212 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T20:05:20.031+03:00  INFO 14212 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T20:05:20.065+03:00  INFO 14212 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T20:05:20.455+03:00  INFO 14212 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T20:05:20.490+03:00  INFO 14212 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T20:05:21.412+03:00  INFO 14212 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f65aa58
2024-07-06T20:05:21.419+03:00  INFO 14212 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T20:05:21.642+03:00  WARN 14212 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T20:05:23.312+03:00  INFO 14212 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T20:05:26.595+03:00  INFO 14212 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T20:05:26.952+03:00  INFO 14212 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T20:05:28.166+03:00  WARN 14212 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T20:05:28.197+03:00  INFO 14212 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T20:05:28.688+03:00  INFO 14212 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c658163, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ca574db, org.springframework.security.web.context.SecurityContextHolderFilter@5d71813b, org.springframework.security.web.header.HeaderWriterFilter@7dcfe455, org.springframework.web.filter.CorsFilter@5323b690, org.springframework.security.web.authentication.logout.LogoutFilter@5bee07c3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@76ad0058, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@124ba047, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6050d04d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d9b79a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fd65f9a, org.springframework.security.web.session.SessionManagementFilter@2574123a, org.springframework.security.web.access.ExceptionTranslationFilter@4e387da1, org.springframework.security.web.access.intercept.AuthorizationFilter@2a9464d9]
2024-07-06T20:05:29.235+03:00  INFO 14212 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T20:05:29.932+03:00  INFO 14212 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 12.772 seconds (process running for 13.413)
2024-07-06T20:05:53.712+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T20:05:53.712+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T20:05:53.714+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T20:06:00.133+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-8] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T19:54:12.997341, name=Name 1, username=u1, balanceAmount=90.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.984016), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.042855), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.103872), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.165421), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.226640), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.287484), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.347052), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.407701), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.465751), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.523413), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.583899), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.648022), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.705304), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.770310)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:06:04.294+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T20:06:04.610+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T19:53:57.729136, name=Owner, username=7140272637, balanceAmount=110.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.516727), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.622932), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.691774), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.754744), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.816010), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.902556), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.971845), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.043147), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.103726), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.160201), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.218178), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.277671), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.337825), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.395334), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.446796)])

InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.516727)
2024-07-06T20:06:05.217+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T19:53:56.516727), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.345642), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:31.465956), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:41.667983), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:48.346480), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:57.590888), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:55:03.695294)]
2024-07-06T20:06:06.100+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.516727), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.345642), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:31.465956), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:41.667983), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:48.346480), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:57.590888), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:55:03.695294)]
2024-07-06T20:06:06.499+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T19:53:57.729136, name=Owner, username=7140272637, balanceAmount=110.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.516727), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.622932), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.691774), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.754744), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.816010), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.902556), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.971845), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.043147), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.103726), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.160201), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.218178), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.277671), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.337825), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.395334), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:53:57.446796)])
2024-07-06T20:10:22.229+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-2] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T19:54:25.492039, name=Name 2, username=u2, balanceAmount=90.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.345642), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.406787), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.475682), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.537847), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.607133), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.666701), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.733696), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.796455), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.861867), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.924272), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:25.010925), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:25.085248), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:25.146220), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:25.208158), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:25.267426)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:10:26.765+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T19:54:12.997341, name=Name 1, username=u1, balanceAmount=91.3, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.984016), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.042855), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.103872), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.165421), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.226640), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.287484), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.347052), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.407701), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.465751), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.523413), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.583899), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.648022), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.705304), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.770310)])]
2024-07-06T20:10:27.018+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T19:54:12.997341, name=Name 1, username=u1, balanceAmount=98.7, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.984016), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.042855), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.103872), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.165421), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.226640), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.287484), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.347052), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.407701), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.465751), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.523413), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.583899), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.648022), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.705304), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.770310)])

InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624)
2024-07-06T20:10:27.541+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.516727), InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.345642), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:31.465956), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:41.667983), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:48.346480), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:57.590888), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:55:03.695294)]
2024-07-06T20:10:28.269+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T19:53:56.516727), InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:24.345642), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:31.465956), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:41.667983), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:48.346480), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:57.590888), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:55:03.695294)]
2024-07-06T20:10:28.688+03:00  INFO 14212 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T19:54:12.997341, name=Name 1, username=u1, balanceAmount=98.7, investModels=[InvestModel(id=16, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.927624), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:11.984016), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.042855), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.103872), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.165421), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.226640), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.287484), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.347052), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.407701), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.465751), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.523413), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.583899), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.648022), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.705304), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T19:54:12.770310)])
2024-07-06T20:12:23.928+03:00  INFO 14212 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T20:12:23.932+03:00  INFO 14212 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T20:13:11.594+03:00  INFO 27356 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 27356 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T20:13:11.597+03:00  INFO 27356 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T20:13:12.559+03:00  INFO 27356 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T20:13:12.717+03:00  INFO 27356 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 144 ms. Found 9 JPA repository interfaces.
2024-07-06T20:13:13.702+03:00  INFO 27356 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T20:13:13.717+03:00  INFO 27356 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T20:13:13.717+03:00  INFO 27356 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T20:13:13.829+03:00  INFO 27356 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T20:13:13.832+03:00  INFO 27356 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2194 ms
2024-07-06T20:13:14.105+03:00  INFO 27356 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T20:13:14.186+03:00  INFO 27356 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T20:13:14.226+03:00  INFO 27356 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T20:13:14.669+03:00  INFO 27356 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T20:13:14.707+03:00  INFO 27356 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T20:13:15.790+03:00  INFO 27356 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@749f61a3
2024-07-06T20:13:15.795+03:00  INFO 27356 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T20:13:16.042+03:00  WARN 27356 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T20:13:17.573+03:00  INFO 27356 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T20:13:24.780+03:00  INFO 27356 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T20:13:25.248+03:00  INFO 27356 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T20:13:26.804+03:00  WARN 27356 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T20:13:26.861+03:00  INFO 27356 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T20:13:27.681+03:00  INFO 27356 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56aacc7b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@112d94d, org.springframework.security.web.context.SecurityContextHolderFilter@60e83cb9, org.springframework.security.web.header.HeaderWriterFilter@6be93728, org.springframework.web.filter.CorsFilter@6e832c9, org.springframework.security.web.authentication.logout.LogoutFilter@7e2bd635, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@e1f17e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@434896b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cf45f46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6050d04d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42f40ad0, org.springframework.security.web.session.SessionManagementFilter@56daf3b1, org.springframework.security.web.access.ExceptionTranslationFilter@56313529, org.springframework.security.web.access.intercept.AuthorizationFilter@48ac4201]
2024-07-06T20:13:28.853+03:00  INFO 27356 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T20:13:29.853+03:00  INFO 27356 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 18.624 seconds (process running for 19.196)
2024-07-06T20:13:33.015+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T20:13:33.015+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T20:13:33.019+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-07-06T20:13:37.290+03:00 ERROR 27356 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null] with root cause

java.lang.NullPointerException: Cannot invoke "dev.guarmo.whales.model.user.UserCredentials.getBottomReferrals()" because "upperReferral" is null
	at dev.guarmo.whales.service.UserService.addUser(UserService.java:47) ~[classes/:na]
	at dev.guarmo.whales.controller.AuthController.addUser(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-07-06T20:16:43.608+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-10] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=90.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:16:46.888+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T20:16:47.243+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=110.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])

InvestModel(id=1, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673)
2024-07-06T20:16:47.875+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559)]
2024-07-06T20:16:48.782+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559)]
2024-07-06T20:16:49.131+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=110.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])
2024-07-06T20:18:40.910+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-5] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T20:13:52.317714, name=Name 2, username=u2, balanceAmount=90.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.070716), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.148988), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.233545), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.293965), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.354104), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.427308), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.512313), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.600407), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.687773), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.760537), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.857803), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.927032), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.995326)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:18:45.356+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=91.3, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)])]
2024-07-06T20:18:45.634+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=98.7, investModels=[InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)])

InvestModel(id=16, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224)
2024-07-06T20:18:46.551+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-5] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=98.7, investModels=[InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)])
2024-07-06T20:19:10.698+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-6] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T20:15:04.836723, name=Name 3, username=u3, balanceAmount=90.0, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.691222), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.749122), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.830618), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.912314), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.997227), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.082876), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.163902), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.237911), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.309907), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.395469), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.477821), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.549754), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.607460)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:19:14.496+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T20:19:14.829+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=120.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])

InvestModel(id=1, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673)
2024-07-06T20:19:15.464+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559)]
2024-07-06T20:19:16.800+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559)]
2024-07-06T20:19:17.634+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=120.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])
2024-07-06T20:22:56.153+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=5, login=u4, role=USER, createdAt=2024-07-06T20:22:14.156195, name=Name 4, username=u4, balanceAmount=90.0, investModels=[InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.022437), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.108192), InvestModel(id=63, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.180504), InvestModel(id=64, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.271359), InvestModel(id=65, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.353257), InvestModel(id=66, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.414422), InvestModel(id=67, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.478243), InvestModel(id=68, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.538389), InvestModel(id=69, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.595321), InvestModel(id=70, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.654069), InvestModel(id=71, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.710247), InvestModel(id=72, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.764064), InvestModel(id=73, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.824949), InvestModel(id=74, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.884641), InvestModel(id=75, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.940539)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:23:03.538+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=100.8, investModels=[InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)]), UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T20:13:52.317714, name=Name 2, username=u2, balanceAmount=91.3, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.070716), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.148988), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.233545), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.293965), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.354104), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.427308), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.512313), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.600407), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.687773), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.760537), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.857803), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.927032), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.995326)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T20:15:04.836723, name=Name 3, username=u3, balanceAmount=90.0, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.691222), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.749122), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.830618), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.912314), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.997227), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.082876), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.163902), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.237911), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.309907), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.395469), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.477821), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.549754), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.607460)])]
2024-07-06T20:23:04.006+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=108.2, investModels=[InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)])

InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224)
2024-07-06T20:23:06.161+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=108.2, investModels=[InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)])
2024-07-06T20:23:58.172+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-3] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=6, login=u5, role=USER, createdAt=2024-07-06T20:22:40.696987, name=Name 5, username=u5, balanceAmount=90.0, investModels=[InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.319895), InvestModel(id=77, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.442322), InvestModel(id=78, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.562182), InvestModel(id=79, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.678824), InvestModel(id=80, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.787336), InvestModel(id=81, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.945468), InvestModel(id=82, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.075206), InvestModel(id=83, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.183145), InvestModel(id=84, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.292998), InvestModel(id=85, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.398538), InvestModel(id=86, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.503319), InvestModel(id=87, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.630122), InvestModel(id=88, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.733475), InvestModel(id=89, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:22:39.847109), InvestModel(id=90, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:22:40.317506)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:24:02.280+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T20:13:52.317714, name=Name 2, username=u2, balanceAmount=92.6, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.070716), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.148988), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.233545), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.293965), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.354104), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.427308), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.512313), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.600407), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.687773), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.760537), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.857803), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.927032), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.995326)]), UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T20:15:04.836723, name=Name 3, username=u3, balanceAmount=90.0, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.691222), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.749122), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.830618), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.912314), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.997227), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.082876), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.163902), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.237911), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.309907), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.395469), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.477821), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.549754), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.607460)])]
2024-07-06T20:24:02.499+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T20:15:04.836723, name=Name 3, username=u3, balanceAmount=97.4, investModels=[InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.691222), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.749122), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.830618), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.912314), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.997227), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.082876), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.163902), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.237911), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.309907), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.395469), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.477821), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.549754), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.607460)])

InvestModel(id=46, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559)
2024-07-06T20:24:03.103+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-3] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=4, login=u3, role=USER, createdAt=2024-07-06T20:15:04.836723, name=Name 3, username=u3, balanceAmount=97.4, investModels=[InvestModel(id=46, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=48, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.691222), InvestModel(id=49, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.749122), InvestModel(id=50, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.830618), InvestModel(id=51, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.912314), InvestModel(id=52, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.997227), InvestModel(id=53, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.082876), InvestModel(id=54, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.163902), InvestModel(id=55, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.237911), InvestModel(id=56, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.309907), InvestModel(id=57, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.395469), InvestModel(id=58, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.477821), InvestModel(id=59, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.549754), InvestModel(id=60, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:15:04.607460)])
2024-07-06T20:25:22.255+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-7] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=7, login=u6, role=USER, createdAt=2024-07-06T20:24:53.573425, name=Name 6, username=u6, balanceAmount=90.0, investModels=[InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.395803), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.453675), InvestModel(id=93, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.513389), InvestModel(id=94, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.573350), InvestModel(id=95, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.630905), InvestModel(id=96, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.687596), InvestModel(id=97, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.760159), InvestModel(id=98, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.822759), InvestModel(id=99, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.890647), InvestModel(id=100, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.963291), InvestModel(id=101, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:53.021172), InvestModel(id=102, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:24:53.080596), InvestModel(id=103, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:24:53.139550), InvestModel(id=104, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:24:53.197783), InvestModel(id=105, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:24:53.286433)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:25:27.599+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : List LEVEL_1 [UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T20:13:52.317714, name=Name 2, username=u2, balanceAmount=92.6, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.070716), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.148988), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.233545), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.293965), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.354104), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.427308), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.512313), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.600407), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.687773), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.760537), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.857803), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.927032), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.995326)])]
2024-07-06T20:25:27.834+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T20:13:52.317714, name=Name 2, username=u2, balanceAmount=100.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.070716), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.148988), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.233545), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.293965), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.354104), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.427308), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.512313), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.600407), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.687773), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.760537), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.857803), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.927032), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.995326)])

InvestModel(id=31, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026)
2024-07-06T20:25:28.898+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-7] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=3, login=u2, role=USER, createdAt=2024-07-06T20:13:52.317714, name=Name 2, username=u2, balanceAmount=100.0, investModels=[InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=33, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.070716), InvestModel(id=34, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.148988), InvestModel(id=35, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.233545), InvestModel(id=36, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.293965), InvestModel(id=37, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.354104), InvestModel(id=38, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.427308), InvestModel(id=39, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.512313), InvestModel(id=40, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.600407), InvestModel(id=41, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.687773), InvestModel(id=42, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.760537), InvestModel(id=43, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.857803), InvestModel(id=44, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.927032), InvestModel(id=45, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:51.995326)])
2024-07-06T20:26:12.963+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=8, login=u7, role=USER, createdAt=2024-07-06T20:25:07.699917, name=Name 7, username=u7, balanceAmount=90.0, investModels=[InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.570653), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.640189), InvestModel(id=108, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.695292), InvestModel(id=109, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.763627), InvestModel(id=110, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.831300), InvestModel(id=111, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.890443), InvestModel(id=112, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.959507), InvestModel(id=113, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.017826), InvestModel(id=114, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.074308), InvestModel(id=115, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.131244), InvestModel(id=116, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.201340), InvestModel(id=117, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.259161), InvestModel(id=118, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.318775), InvestModel(id=119, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.406563), InvestModel(id=120, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:25:07.466133)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_1)
2024-07-06T20:26:17.492+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : List LEVEL_1 []
2024-07-06T20:26:17.801+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=129.4, investModels=[InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])

InvestModel(id=1, receivedBonusAtCycle=1, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673)
2024-07-06T20:26:18.427+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=3, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=46, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=true, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.022437), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.319895), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.395803), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.570653)]
2024-07-06T20:26:20.452+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_1 after cycle is finished

[InvestModel(id=1, receivedBonusAtCycle=3, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=31, receivedBonusAtCycle=2, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.917026), InvestModel(id=46, receivedBonusAtCycle=1, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.556559), InvestModel(id=61, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.022437), InvestModel(id=76, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.319895), InvestModel(id=91, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.395803), InvestModel(id=106, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.570653)]
2024-07-06T20:26:20.853+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-2] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=129.4, investModels=[InvestModel(id=1, receivedBonusAtCycle=3, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])
2024-07-06T21:30:56.979+03:00 ERROR 27356 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Connection reset

java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T21:30:57.493+03:00 ERROR 27356 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No such host is known (api.telegram.org)

java.net.UnknownHostException: No such host is known (api.telegram.org)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]
	at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:934) ~[na:na]
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1385) ~[na:na]
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) ~[na:na]
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T22:54:26.064+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@12084906 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.067+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@749f61a3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.068+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5b188d74 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.070+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@b08af68 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.071+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2318355a (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.072+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@721e2907 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.072+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6d72691d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.073+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@23cfe834 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.074+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@411fbbf2 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:26.075+03:00  WARN 27356 --- [jwt-token-server] [http-nio-6028-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@424af4c7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T22:54:36.689+03:00  WARN 27356 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h23m57s716ms149µs300ns).
2024-07-06T23:05:09.974+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-8] d.guarmo.whales.service.PurchaseService  : Purchase from UserCredentials(id=2, login=u1, role=USER, createdAt=2024-07-06T20:13:44.990109, name=Name 1, username=u1, balanceAmount=800.0, investModels=[InvestModel(id=16, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.665224), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=18, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.848568), InvestModel(id=19, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.906567), InvestModel(id=20, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.965203), InvestModel(id=21, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.031957), InvestModel(id=22, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.092918), InvestModel(id=23, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.152141), InvestModel(id=24, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.233755), InvestModel(id=25, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.307219), InvestModel(id=26, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.400899), InvestModel(id=27, receivedBonusAtCycle=null, investModelStatus=LOCKED, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.475919), InvestModel(id=28, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.562475), InvestModel(id=29, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.650306), InvestModel(id=30, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:44.715215)]) that causes income:

Purchase: Purchase(purchasedModel=LEVEL_2)
2024-07-06T23:05:16.367+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.service.ReferralBonusService  : List LEVEL_2 []
2024-07-06T23:05:16.687+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.helper.InvestModelHelper      : BEFORE: User that receives income and his table UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=1200.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=3, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])

InvestModel(id=2, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113)
2024-07-06T23:05:17.262+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.helper.InvestModelHelper      : BEFORE: Cycle ended. Updating info in every table of LEVEL_2 after cycle is finished

[InvestModel(id=2, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=true, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=JUSTBOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.108192), InvestModel(id=77, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.442322), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.453675), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.640189)]
2024-07-06T23:05:18.680+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.helper.InvestModelHelper      : AFTER: Cycle ended. Updating info in every table of LEVEL_2 after cycle is finished

[InvestModel(id=2, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=17, receivedBonusAtCycle=null, investModelStatus=BOUGHT, isReceivedBonus=false, createdAt=2024-07-06T20:13:43.762138), InvestModel(id=32, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:13:50.988183), InvestModel(id=47, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:15:03.629555), InvestModel(id=62, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:13.108192), InvestModel(id=77, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:22:38.442322), InvestModel(id=92, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:24:52.453675), InvestModel(id=107, receivedBonusAtCycle=null, investModelStatus=AVAILABLE, isReceivedBonus=false, createdAt=2024-07-06T20:25:06.640189)]
2024-07-06T23:05:18.984+03:00  INFO 27356 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.service.ReferralBonusService  : User with linked bonus: UserCredentials(id=1, login=7140272637, role=ADMIN, createdAt=2024-07-06T20:13:35.642459, name=Owner, username=7140272637, balanceAmount=1200.0, investModels=[InvestModel(id=1, receivedBonusAtCycle=3, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.344673), InvestModel(id=2, receivedBonusAtCycle=0, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.453113), InvestModel(id=3, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.520688), InvestModel(id=4, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.590442), InvestModel(id=5, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.672143), InvestModel(id=6, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.732345), InvestModel(id=7, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.789670), InvestModel(id=8, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.847884), InvestModel(id=9, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.919788), InvestModel(id=10, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:34.996046), InvestModel(id=11, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.052864), InvestModel(id=12, receivedBonusAtCycle=null, investModelStatus=FROZEN, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.129172), InvestModel(id=13, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.200278), InvestModel(id=14, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.277935), InvestModel(id=15, receivedBonusAtCycle=null, investModelStatus=SPECIALS, isReceivedBonus=false, createdAt=2024-07-06T20:13:35.349518)])
2024-07-06T23:10:12.426+03:00  INFO 27356 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:10:12.428+03:00  INFO 27356 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:10:49.910+03:00  WARN 44348 --- [jwt-token-server] [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/bohda/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/bohda/.m2/repository/org/json/json/20180813/json-20180813.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2024-07-06T23:10:49.920+03:00  INFO 44348 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Starting ApplicationTests using Java 22.0.1 with PID 44348 (started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:10:49.921+03:00  INFO 44348 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:10:50.467+03:00  INFO 44348 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:10:50.522+03:00  INFO 44348 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 9 JPA repository interfaces.
2024-07-06T23:10:51.010+03:00  INFO 44348 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:10:51.068+03:00  INFO 44348 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:10:51.099+03:00  INFO 44348 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:10:51.384+03:00  INFO 44348 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:10:51.419+03:00  INFO 44348 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:10:52.221+03:00  INFO 44348 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@15130002
2024-07-06T23:10:52.224+03:00  INFO 44348 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:10:52.384+03:00  WARN 44348 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:10:53.090+03:00  INFO 44348 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:10:59.074+03:00  INFO 44348 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:10:59.326+03:00  INFO 44348 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:11:00.089+03:00  WARN 44348 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:11:00.127+03:00  INFO 44348 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:11:00.513+03:00  INFO 44348 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67c64b9c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@311d8595, org.springframework.security.web.context.SecurityContextHolderFilter@397fced4, org.springframework.security.web.header.HeaderWriterFilter@6f6c4462, org.springframework.web.filter.CorsFilter@688c914e, org.springframework.security.web.authentication.logout.LogoutFilter@6e211727, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@24305eca, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@379ddab2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31c9bb2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75f67ea7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f05d5f2, org.springframework.security.web.session.SessionManagementFilter@736905fe, org.springframework.security.web.access.ExceptionTranslationFilter@2e530f34, org.springframework.security.web.access.intercept.AuthorizationFilter@64a0a1c6]
2024-07-06T23:11:01.206+03:00  INFO 44348 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Started ApplicationTests in 11.55 seconds (process running for 12.197)
2024-07-06T23:11:01.538+03:00  INFO 44348 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:11:01.541+03:00  INFO 44348 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:11:02.089+03:00  INFO 44348 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T23:25:14.972+03:00  INFO 45544 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 45544 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:25:14.973+03:00  INFO 45544 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:25:16.077+03:00  INFO 45544 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:25:16.131+03:00  INFO 45544 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 9 JPA repository interfaces.
2024-07-06T23:25:16.528+03:00  INFO 45544 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T23:25:16.538+03:00  INFO 45544 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T23:25:16.539+03:00  INFO 45544 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T23:25:16.587+03:00  INFO 45544 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T23:25:16.588+03:00  INFO 45544 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1584 ms
2024-07-06T23:25:16.724+03:00  INFO 45544 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:25:16.768+03:00  INFO 45544 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:25:16.801+03:00  INFO 45544 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:25:17.072+03:00  INFO 45544 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:25:17.096+03:00  INFO 45544 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:25:19.348+03:00  INFO 45544 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26495639
2024-07-06T23:25:19.350+03:00  INFO 45544 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:25:19.630+03:00  WARN 45544 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:25:20.549+03:00  INFO 45544 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:25:30.952+03:00  INFO 45544 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:25:31.207+03:00  INFO 45544 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:25:31.979+03:00  WARN 45544 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:25:32.011+03:00  INFO 45544 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:25:32.349+03:00  INFO 45544 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@379ddab2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b35976a, org.springframework.security.web.context.SecurityContextHolderFilter@1bb509a6, org.springframework.security.web.header.HeaderWriterFilter@3d1254b9, org.springframework.web.filter.CorsFilter@67c64b9c, org.springframework.security.web.authentication.logout.LogoutFilter@3f02dc34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5c943847, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a0cc666, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@397fced4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fb87b73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@311d8595, org.springframework.security.web.session.SessionManagementFilter@5bad04d1, org.springframework.security.web.access.ExceptionTranslationFilter@2af5eab6, org.springframework.security.web.access.intercept.AuthorizationFilter@75552781]
2024-07-06T23:25:32.642+03:00  INFO 45544 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T23:25:32.725+03:00  INFO 45544 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T23:25:32.726+03:00  INFO 45544 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T23:25:32.726+03:00  INFO 45544 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-07-06T23:25:33.243+03:00  INFO 45544 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 18.506 seconds (process running for 24.836)
2024-07-06T23:27:04.148+03:00  INFO 45544 --- [jwt-token-server] [http-nio-6028-exec-8] d.g.whales.service.WestWalletService     : Response Body and Request Body after sending POST request to get invoice link: 200 {"error":"wrong_amount"}
 {"currencies": ["DASH"], "amount": "0.00", "amount_in_usd": true, "ipn_url": "https://whalefederation.tech:6028/api/pay/ipn", "success_url": "https://www.youtube.com/", "ttl": 15, "label": "7140272637"}
2024-07-06T23:27:46.436+03:00  INFO 45544 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:27:46.438+03:00  INFO 45544 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:27:46.460+03:00  WARN 45544 --- [jwt-token-server] [http-nio-6028-exec-8] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@26495639 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:27:55.190+03:00  INFO 43908 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 43908 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:27:55.192+03:00  INFO 43908 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:27:55.764+03:00  INFO 43908 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:27:55.821+03:00  INFO 43908 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 9 JPA repository interfaces.
2024-07-06T23:27:56.181+03:00  INFO 43908 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T23:27:56.189+03:00  INFO 43908 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T23:27:56.189+03:00  INFO 43908 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T23:27:56.227+03:00  INFO 43908 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T23:27:56.227+03:00  INFO 43908 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1008 ms
2024-07-06T23:27:56.331+03:00  INFO 43908 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:27:56.360+03:00  INFO 43908 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:27:56.381+03:00  INFO 43908 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:27:56.574+03:00  INFO 43908 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:27:56.590+03:00  INFO 43908 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:27:58.026+03:00  INFO 43908 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@fd14789
2024-07-06T23:27:58.029+03:00  INFO 43908 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:27:58.344+03:00  WARN 43908 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:27:58.954+03:00  INFO 43908 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:28:08.983+03:00  INFO 43908 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:28:09.229+03:00  INFO 43908 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:28:09.816+03:00  WARN 43908 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:28:09.853+03:00  INFO 43908 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:28:10.124+03:00  INFO 43908 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f02dc34, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f49fa1d, org.springframework.security.web.context.SecurityContextHolderFilter@717c00f9, org.springframework.security.web.header.HeaderWriterFilter@112d94d, org.springframework.web.filter.CorsFilter@6e211727, org.springframework.security.web.authentication.logout.LogoutFilter@49442e03, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@b0e903a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@fa3db48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72139933, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38bb297, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b6b5888, org.springframework.security.web.session.SessionManagementFilter@38fc1904, org.springframework.security.web.access.ExceptionTranslationFilter@2e5d40a4, org.springframework.security.web.access.intercept.AuthorizationFilter@5b8e2ea7]
2024-07-06T23:28:10.394+03:00  INFO 43908 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T23:28:10.853+03:00  INFO 43908 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 15.901 seconds (process running for 16.291)
2024-07-06T23:28:17.630+03:00  INFO 43908 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T23:28:17.631+03:00  INFO 43908 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T23:28:17.632+03:00  INFO 43908 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T23:28:47.032+03:00  INFO 43908 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:28:47.034+03:00  INFO 43908 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:28:58.788+03:00  INFO 29288 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 29288 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:28:58.789+03:00  INFO 29288 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:28:59.155+03:00  INFO 29288 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:28:59.199+03:00  INFO 29288 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2024-07-06T23:28:59.483+03:00  INFO 29288 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T23:28:59.488+03:00  INFO 29288 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T23:28:59.488+03:00  INFO 29288 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T23:28:59.527+03:00  INFO 29288 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T23:28:59.528+03:00  INFO 29288 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 717 ms
2024-07-06T23:28:59.611+03:00  INFO 29288 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:28:59.634+03:00  INFO 29288 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:28:59.652+03:00  INFO 29288 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:28:59.816+03:00  INFO 29288 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:28:59.829+03:00  INFO 29288 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:29:01.256+03:00  INFO 29288 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b01897f
2024-07-06T23:29:01.259+03:00  INFO 29288 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:29:01.536+03:00  WARN 29288 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:29:02.086+03:00  INFO 29288 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:29:13.411+03:00  INFO 29288 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:29:13.547+03:00  INFO 29288 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:29:13.913+03:00  WARN 29288 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:29:13.925+03:00  INFO 29288 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:29:14.093+03:00  INFO 29288 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34775090, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e772d11, org.springframework.security.web.context.SecurityContextHolderFilter@6f77917c, org.springframework.security.web.header.HeaderWriterFilter@1428d63, org.springframework.web.filter.CorsFilter@76ad0058, org.springframework.security.web.authentication.logout.LogoutFilter@75d454a4, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2aa143ba, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@611d867, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55145dc5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60e83cb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@732f7660, org.springframework.security.web.session.SessionManagementFilter@1a177f2c, org.springframework.security.web.access.ExceptionTranslationFilter@221c097f, org.springframework.security.web.access.intercept.AuthorizationFilter@7aeb7bd6]
2024-07-06T23:29:14.265+03:00  INFO 29288 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T23:29:14.663+03:00  INFO 29288 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 16.072 seconds (process running for 16.418)
2024-07-06T23:29:32.313+03:00  INFO 29288 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:29:32.314+03:00  INFO 29288 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:29:34.114+03:00  INFO 28976 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 28976 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:29:34.116+03:00  INFO 28976 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:29:34.509+03:00  INFO 28976 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:29:34.562+03:00  INFO 28976 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 9 JPA repository interfaces.
2024-07-06T23:29:34.905+03:00  INFO 28976 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T23:29:34.919+03:00  INFO 28976 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T23:29:34.919+03:00  INFO 28976 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T23:29:34.959+03:00  INFO 28976 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T23:29:34.959+03:00  INFO 28976 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 818 ms
2024-07-06T23:29:35.055+03:00  INFO 28976 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:29:35.085+03:00  INFO 28976 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:29:35.106+03:00  INFO 28976 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:29:35.295+03:00  INFO 28976 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:29:35.311+03:00  INFO 28976 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:29:36.818+03:00  INFO 28976 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26d8908e
2024-07-06T23:29:36.821+03:00  INFO 28976 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:29:37.111+03:00  WARN 28976 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:29:37.809+03:00  INFO 28976 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:29:49.556+03:00  INFO 28976 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:29:49.704+03:00  INFO 28976 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:29:50.139+03:00  WARN 28976 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:29:50.155+03:00  INFO 28976 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:29:50.354+03:00  INFO 28976 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3760f3e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73032867, org.springframework.security.web.context.SecurityContextHolderFilter@124ba047, org.springframework.security.web.header.HeaderWriterFilter@7e772d11, org.springframework.web.filter.CorsFilter@4e6f3d08, org.springframework.security.web.authentication.logout.LogoutFilter@6a49b3c7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@75f67ea7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2c7e2c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c658163, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@717c00f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28b995b8, org.springframework.security.web.session.SessionManagementFilter@42f40ad0, org.springframework.security.web.access.ExceptionTranslationFilter@5efb7f82, org.springframework.security.web.access.intercept.AuthorizationFilter@730c4dfd]
2024-07-06T23:29:50.537+03:00  INFO 28976 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T23:29:50.645+03:00  INFO 28976 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T23:29:50.645+03:00  INFO 28976 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T23:29:50.646+03:00  INFO 28976 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T23:29:51.972+03:00  INFO 28976 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 18.09 seconds (process running for 18.441)
2024-07-06T23:30:13.085+03:00  INFO 28976 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.service.WestWalletService     : Response Body and Request Body after sending POST request to get invoice link: 200 {"error":"wrong_amount"}
 {"currencies": ["DASH"], "amount": "0", "amount_in_usd": true, "ipn_url": "https://whalefederation.tech:6028/api/pay/ipn", "success_url": "https://www.youtube.com/", "ttl": 15, "label": "7140272637"}
2024-07-06T23:31:00.633+03:00  WARN 28976 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s700ms2µs600ns).
2024-07-06T23:31:00.720+03:00  INFO 28976 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:31:00.727+03:00  INFO 28976 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:31:00.750+03:00  WARN 28976 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@26d8908e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:31:04.953+03:00  INFO 42152 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Starting Application using Java 17.0.11 with PID 42152 (D:\Work\Java\whale-api-v2\target\classes started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:31:04.955+03:00  INFO 42152 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:31:05.464+03:00  INFO 42152 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:31:05.520+03:00  INFO 42152 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 9 JPA repository interfaces.
2024-07-06T23:31:05.874+03:00  INFO 42152 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 6028 (http)
2024-07-06T23:31:05.880+03:00  INFO 42152 --- [jwt-token-server] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-06T23:31:05.881+03:00  INFO 42152 --- [jwt-token-server] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-07-06T23:31:05.927+03:00  INFO 42152 --- [jwt-token-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2024-07-06T23:31:05.928+03:00  INFO 42152 --- [jwt-token-server] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 947 ms
2024-07-06T23:31:06.031+03:00  INFO 42152 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:31:06.062+03:00  INFO 42152 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:31:06.084+03:00  INFO 42152 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:31:06.272+03:00  INFO 42152 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:31:06.288+03:00  INFO 42152 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:31:07.771+03:00  INFO 42152 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5
2024-07-06T23:31:07.774+03:00  INFO 42152 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:31:08.045+03:00  WARN 42152 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:31:08.683+03:00  INFO 42152 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:31:20.127+03:00  INFO 42152 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:31:20.370+03:00  INFO 42152 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:31:20.932+03:00  WARN 42152 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:31:20.949+03:00  INFO 42152 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:31:21.218+03:00  INFO 42152 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@420849f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24f6f6bf, org.springframework.security.web.context.SecurityContextHolderFilter@6195e7d5, org.springframework.security.web.header.HeaderWriterFilter@124ba047, org.springframework.web.filter.CorsFilter@255845b1, org.springframework.security.web.authentication.logout.LogoutFilter@280d1d8d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@39bbe17c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b6b5888, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1afea182, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8ff4795, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59e02113, org.springframework.security.web.session.SessionManagementFilter@72139933, org.springframework.security.web.access.ExceptionTranslationFilter@423ddfe1, org.springframework.security.web.access.intercept.AuthorizationFilter@549561ab]
2024-07-06T23:31:21.478+03:00  INFO 42152 --- [jwt-token-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 6028 (http) with context path '/api'
2024-07-06T23:31:22.047+03:00  INFO 42152 --- [jwt-token-server] [main] dev.guarmo.whales.Application            : Started Application in 17.338 seconds (process running for 17.706)
2024-07-06T23:31:27.717+03:00  INFO 42152 --- [jwt-token-server] [http-nio-6028-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-06T23:31:27.717+03:00  INFO 42152 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-06T23:31:27.718+03:00  INFO 42152 --- [jwt-token-server] [http-nio-6028-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-06T23:32:02.784+03:00  INFO 42152 --- [jwt-token-server] [http-nio-6028-exec-4] d.g.whales.service.WestWalletService     : Response Body and Request Body after sending POST request to get invoice link: 200 {"token":"9f72bb24491492fc45d925313ef9fd","url":"https://westwallet.io/payment/9f72bb24491492fc45d925313ef9fd","expire_at":"2024-07-06 20:47:04","allowed_currencies_data":[{"currency_code":"DASH","amount":0.04256207,"address":"XfycnDWTSuyn1pbhX64eLnnKopyJPCWfW9","dest_tag":""}],"success_url":"https://www.youtube.com/","error":"ok"}
 {"currencies": ["DASH"], "amount": "1.0", "amount_in_usd": true, "ipn_url": "https://whalefederation.tech:6028/api/pay/ipn", "success_url": "https://www.youtube.com/", "ttl": 15, "label": "7140272637"}
2024-07-06T23:32:36.836+03:00  WARN 42152 --- [jwt-token-server] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s957ms412µs100ns).
2024-07-06T23:34:22.235+03:00 ERROR 42152 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Connection reset

java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T23:34:22.770+03:00 ERROR 42152 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Permission denied: getsockopt

java.net.SocketException: Permission denied: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T23:34:23.298+03:00 ERROR 42152 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Permission denied: getsockopt

java.net.SocketException: Permission denied: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T23:34:56.292+03:00  INFO 42152 --- [jwt-token-server] [http-nio-6028-exec-6] d.g.whales.service.WestWalletService     : Response Body and Request Body after sending POST request to get invoice link: 200 {"error":"ip_not_allowed"}
 {"currencies": ["BNB20"], "amount": "1.0", "amount_in_usd": true, "ipn_url": "https://whalefederation.tech:6028/api/pay/ipn", "success_url": "https://www.youtube.com/", "ttl": 15, "label": "7140272637"}
2024-07-06T23:35:05.388+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@68454ed5 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.394+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@68ef6b93 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.399+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@c15be67 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.403+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@fb20894 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.408+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5e8366cc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.417+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4da32d7c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.422+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6ce45429 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.426+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@730d0789 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.430+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@36fdba22 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:35:05.434+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@62e1b94c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:36:27.997+03:00 ERROR 42152 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : Connection reset

java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:328) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069) ~[na:na]
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.16.jar:4.4.16]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T23:36:28.510+03:00 ERROR 42152 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No route to host: getsockopt

java.net.NoRouteToHostException: No route to host: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T23:36:29.021+03:00 ERROR 42152 --- [jwt-token-server] [Whale Payment Notify Telegram Connection] o.t.t.u.DefaultBotSession                : No route to host: getsockopt

java.net.NoRouteToHostException: No route to host: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.getUpdatesFromServer(DefaultBotSession.java:250) ~[telegrambots-5.6.0.jar:na]
	at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$ReaderThread.run(DefaultBotSession.java:189) ~[telegrambots-5.6.0.jar:na]

2024-07-06T23:37:00.000+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@79848a2c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.002+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@48b7102c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.003+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@44235221 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.004+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@19ab7563 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.005+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@710d5ebc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.009+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5fa22ed8 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.013+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3f9190d9 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.015+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@e066112 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.017+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3e5eede0 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:00.018+03:00  WARN 42152 --- [jwt-token-server] [http-nio-6028-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@70c4c01d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-07-06T23:37:15.318+03:00  INFO 42152 --- [jwt-token-server] [http-nio-6028-exec-10] d.g.whales.service.WestWalletService     : Response Body and Request Body after sending POST request to get invoice link: 200 {"token":"a66354b097342d699566d5af567783","url":"https://westwallet.io/payment/a66354b097342d699566d5af567783","expire_at":"2024-07-06 20:52:16","allowed_currencies_data":[{"currency_code":"BNB20","amount":0.00189200,"address":"0xf6A632a878E9Fc9a068eDfB350c2BdA5A07E2a75","dest_tag":""}],"success_url":"https://www.youtube.com/","error":"ok"}
 {"currencies": ["BNB20"], "amount": "1.0", "amount_in_usd": true, "ipn_url": "https://whalefederation.tech:6028/api/pay/ipn", "success_url": "https://www.youtube.com/", "ttl": 15, "label": "7140272637"}
2024-07-06T23:38:12.326+03:00  INFO 42152 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:38:12.328+03:00  INFO 42152 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:38:13.617+03:00  INFO 42152 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-06T23:38:54.310+03:00  WARN 5032 --- [jwt-token-server] [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/bohda/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/bohda/.m2/repository/org/json/json/20180813/json-20180813.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2024-07-06T23:38:54.322+03:00  INFO 5032 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Starting ApplicationTests using Java 22.0.1 with PID 5032 (started by bohdan in D:\Work\Java\whale-api-v2)
2024-07-06T23:38:54.323+03:00  INFO 5032 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2024-07-06T23:38:54.911+03:00  INFO 5032 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-06T23:38:54.973+03:00  INFO 5032 --- [jwt-token-server] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 9 JPA repository interfaces.
2024-07-06T23:38:55.475+03:00  INFO 5032 --- [jwt-token-server] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-06T23:38:55.531+03:00  INFO 5032 --- [jwt-token-server] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-06T23:38:55.558+03:00  INFO 5032 --- [jwt-token-server] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-06T23:38:55.827+03:00  INFO 5032 --- [jwt-token-server] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-06T23:38:55.866+03:00  INFO 5032 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-06T23:38:57.320+03:00  INFO 5032 --- [jwt-token-server] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a543e09
2024-07-06T23:38:57.323+03:00  INFO 5032 --- [jwt-token-server] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-06T23:38:57.640+03:00  WARN 5032 --- [jwt-token-server] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-06T23:38:58.306+03:00  INFO 5032 --- [jwt-token-server] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-06T23:39:04.195+03:00  INFO 5032 --- [jwt-token-server] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:39:04.604+03:00  INFO 5032 --- [jwt-token-server] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-06T23:39:05.734+03:00  WARN 5032 --- [jwt-token-server] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-06T23:39:05.777+03:00  INFO 5032 --- [jwt-token-server] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-07-06T23:39:06.231+03:00  INFO 5032 --- [jwt-token-server] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3acae925, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67a6f2c4, org.springframework.security.web.context.SecurityContextHolderFilter@36a65069, org.springframework.security.web.header.HeaderWriterFilter@a9e31e8, org.springframework.web.filter.CorsFilter@6bac199f, org.springframework.security.web.authentication.logout.LogoutFilter@24f6f6bf, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@685f43ca, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@688c914e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b8e2ea7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d9ccad2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a47fb5d, org.springframework.security.web.session.SessionManagementFilter@2026af0, org.springframework.security.web.access.ExceptionTranslationFilter@2af5eab6, org.springframework.security.web.access.intercept.AuthorizationFilter@7aead7d9]
2024-07-06T23:39:07.091+03:00  INFO 5032 --- [jwt-token-server] [main] dev.guarmo.whales.ApplicationTests       : Started ApplicationTests in 13.029 seconds (process running for 13.664)
2024-07-06T23:39:07.512+03:00  INFO 5032 --- [jwt-token-server] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-06T23:39:07.515+03:00  INFO 5032 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-06T23:39:08.813+03:00  INFO 5032 --- [jwt-token-server] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
